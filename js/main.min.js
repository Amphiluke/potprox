/*!
potprox v0.7.1
https://amphiluke.github.io/potprox/
*/
class t{rSqr(t){let e=0,i=0;for(let{r:n,e:s}of t){e+=s;let t=s-this.at(n);i+=t*t}e/=t.length;let n=0;for(let{e:i}of t){let t=i-e;n+=t*t}return 1-i/n}*points({start:t=this.r0/2,end:e=2*this.r0,step:i=(e-t)/49}={}){let n=0,s=t,o=Math.sign(e-t);for(i=Math.abs(i)*o;(e-s)*o>=0;)yield{r:s,e:this.at(s),index:n},s=t+i*++n;return{r:e,e:this.at(e)}}}const e="Too little points. Approximation is impossible",i="Approximated data must be an array of points",n=t=>`The “${t}” parameter must be a finite number`,s=(t,e=0)=>`The “${t}” parameter must be greater than ${e}`,o="Distance must be a number",r="Distance mustn’t be less than 0";let a=new WeakMap;class l extends t{constructor({epsilon:t=1,sigma:e=1}={}){super(),a.set(this,{}),this.epsilon=t,this.sigma=e}static get type(){return"LennardJones"}static from(t){if(!Array.isArray(t))throw new TypeError(i);if(t.length<3)throw new Error(e);let n=0,s=0,o=0,r=0,a=0;for(let{r:e,e:i}of t)n+=Math.pow(e,-24),s+=Math.pow(e,-18),o+=i*Math.pow(e,-12),r+=Math.pow(e,-12),a+=i*Math.pow(e,-6);let h=(a-s*o/n)/(r-s*s/n),c=(o-s*h)/n,d=Math.pow(-c/h,1/6),u=c/(4*Math.pow(d,12));return new l({epsilon:u,sigma:d})}get epsilon(){return a.get(this).epsilon}set epsilon(t){if(!Number.isFinite(t))throw new TypeError(n("epsilon"));if(t<=0)throw new RangeError(s("epsilon"));a.get(this).epsilon=t}get sigma(){return a.get(this).sigma}set sigma(t){if(!Number.isFinite(t))throw new TypeError(n("sigma"));if(t<=0)throw new RangeError(s("sigma"));a.get(this).sigma=t}get r0(){return 1.122462048309373*this.sigma}set r0(t){this.sigma=t/1.122462048309373}at(t){if("number"!=typeof t)throw new TypeError(o);if(t<0)throw new RangeError(r);let{epsilon:e,sigma:i}=this;return 4*e*(Math.pow(i/t,12)-Math.pow(i/t,6))}toJSON(){return{type:l.type,epsilon:this.epsilon,sigma:this.sigma}}}let h=new WeakMap;class c extends t{constructor({d0:t=1,r0:e=1,a:i=2}={}){super(),h.set(this,{}),this.d0=t,this.r0=e,this.a=i}static get type(){return"Buckingham"}static fastFrom(t){if(!Array.isArray(t))throw new TypeError(i);if(t.length<3)throw new Error(e);t=t.slice().sort(((t,e)=>t.r-e.r));let n,s,o,r=Number.POSITIVE_INFINITY,a=1;for(let{r:e,e:i}of t)i<r&&(r=i,a=e);r=Math.abs(r);for(let e=1;e<t.length&&(n=t[e-1],s=t[e],!(s.r>=a||n.e<0||s.e<0));e++);if(n&&s&&n.r<a&&s.r<=a){let t=n.e*(n.r-s.r)/(s.e-n.e)+n.r;if(t>0){let e=1-t/a,i=Math.pow(a/t,6)/6;o=(i-e-Math.sqrt(i*i-2*e*i-e*e))/(e*e),Number.isFinite(o)||(o=void 0)}}return new c({d0:r,r0:a,a:o})}static from(t,{d0Conv:e=.001,r0Conv:i=.001,aConv:n=.001}={}){let s=this.fastFrom(t),{d0:o,r0:r,a:a}=s;const l=o*e,h=r*i,c=a*n;let d,u,f;do{let e=0,i=0,n=0,s=0,l=0,h=0,c=0,p=0,g=0;for(let{r:d,e:u}of t){let t=a*Math.pow(r/d,6),f=Math.exp(a*(1-d/r)),m=o/(a-6)*(6*f-t),b=m/o,x=o/(a-6)*(6*f*a*d/(r*r)-6*t/r),_=-o/((a-6)*(a-6))*(6*f-t)+o/(a-6)*(6*(1-d/r)*f-t/a);e+=b*b,i+=x*b,n+=_*b,s+=(m-u)*b,l+=x*x,h+=_*x,c+=(m-u)*x,p+=_*_,g+=(m-u)*_}f=-(s-e*c/i-(i-e*l/i)/(i-e*h/n)*(s-e*g/n))/(n-e*h/i-(n-e*p/n)*(i-e*l/i)/(i-e*h/n)),u=((n-e*h/i)*f+(s-e*c/i))/(e*l/i-i),d=(-i*u-n*f-s)/e,o+=d,r+=u,a+=f}while(Math.abs(d)>l&&Math.abs(u)>h&&Math.abs(f)>c);return s.d0=o,s.r0=r,s.a=a,s}get d0(){return h.get(this).d0}set d0(t){if(!Number.isFinite(t))throw new TypeError(n("d0"));if(t<=0)throw new RangeError(s("d0"));h.get(this).d0=t}get r0(){return h.get(this).r0}set r0(t){if(!Number.isFinite(t))throw new TypeError(n("r0"));if(t<=0)throw new RangeError(s("r0"));h.get(this).r0=t}get a(){return h.get(this).a}set a(t){if(!Number.isFinite(t))throw new TypeError(n("a"));if(t<=0)throw new RangeError(s("a"));h.get(this).a=t}at(t){if("number"!=typeof t)throw new TypeError(o);if(t<0)throw new RangeError(r);let{d0:e,r0:i,a:n}=this;return e/(n-6)*(6*Math.exp(n*(1-t/i))-n*Math.pow(i/t,6))}toJSON(){return{type:c.type,d0:this.d0,r0:this.r0,a:this.a}}}let d=new WeakMap;class u extends t{constructor({d0:t=1,r0:e=1,a:i=1}={}){super(),d.set(this,{}),this.d0=t,this.r0=e,this.a=i}static get type(){return"Morse"}static fastFrom(t){if(!Array.isArray(t))throw new TypeError(i);if(t.length<3)throw new Error(e);let n=Number.POSITIVE_INFINITY,s=1;for(let{r:e,e:i}of t)i<n&&(n=i,s=e);n=Math.abs(n);let o=0,r=0;for(let{r:e,e:i}of t){let t=Math.sqrt(1+i/n),a=Number.NaN;e>s?a=Math.log(1-t)/(s-e):e<s&&(a=Math.log(1+t)/(s-e)),Number.isFinite(a)&&(o+=a,r++)}return o/=r,new u({d0:n,r0:s,a:o})}static from(t,{d0Conv:e=.001,r0Conv:i=.001,aConv:n=.001}={}){let s=this.fastFrom(t),{d0:o,r0:r,a:a}=s;const l=o*e,h=r*i,c=a*n;let d,u,f;do{let e=0,i=0,n=0,s=0,l=0,h=0,c=0,p=0,g=0;for(let{r:d,e:u}of t){let t=Math.exp(a*(r-d)),f=o*(1-t)*(1-t)-o,m=f/o,b=-2*o*(1-t)*a*t,x=2*o*(1-t)*(d-r)*t;e+=m*m,i+=b*m,n+=x*m,s+=(f-u)*m,l+=b*b,h+=x*b,c+=(f-u)*b,p+=x*x,g+=(f-u)*x}f=-(s-e*c/i-(i-e*l/i)/(i-e*h/n)*(s-e*g/n))/(n-e*h/i-(n-e*p/n)*(i-e*l/i)/(i-e*h/n)),u=((n-e*h/i)*f+(s-e*c/i))/(e*l/i-i),d=(-i*u-n*f-s)/e,o+=d,r+=u,a+=f}while(Math.abs(d)>l&&Math.abs(u)>h&&Math.abs(f)>c);return s.d0=o,s.r0=r,s.a=a,s}get d0(){return d.get(this).d0}set d0(t){if(!Number.isFinite(t))throw new TypeError(n("d0"));if(t<=0)throw new RangeError(s("d0"));d.get(this).d0=t}get r0(){return d.get(this).r0}set r0(t){if(!Number.isFinite(t))throw new TypeError(n("r0"));if(t<=0)throw new RangeError(s("r0"));d.get(this).r0=t}get a(){return d.get(this).a}set a(t){if(!Number.isFinite(t))throw new TypeError(n("a"));if(t<=0)throw new RangeError(s("a"));d.get(this).a=t}at(t){if("number"!=typeof t)throw new TypeError(o);if(t<0)throw new RangeError(r);let{d0:e,r0:i,a:n}=this,s=1-Math.exp(n*(i-t));return e*s*s-e}toJSON(){return{type:u.type,d0:this.d0,r0:this.r0,a:this.a}}}let f=new WeakMap;class p extends t{constructor({d0:t=1,r0:e=1,b:i=2}={}){super(),f.set(this,{}),this.d0=t,this.r0=e,this.b=i}static get type(){return"Rydberg"}static fastFrom(t){if(!Array.isArray(t))throw new TypeError(i);if(t.length<3)throw new Error(e);t=t.slice().sort(((t,e)=>t.r-e.r));let n,s,o,r=Number.POSITIVE_INFINITY,a=1;for(let{r:e,e:i}of t)i<r&&(r=i,a=e);r=Math.abs(r);for(let e=1;e<t.length&&(n=t[e-1],s=t[e],!(s.r>=a||n.e<0||s.e<0));e++);if(n&&s&&n.r<a&&s.r<=a){let t=n.e*(n.r-s.r)/(s.e-n.e)+n.r;t>0&&(o=a/(a-t))}return new p({d0:r,r0:a,b:o})}static from(t,{d0Conv:e=.001,r0Conv:i=.001,bConv:n=.001}={}){let s=this.fastFrom(t),{d0:o,r0:r,b:a}=s;const l=o*e,h=r*i,c=a*n;let d,u,f;do{let e=0,i=0,n=0,s=0,l=0,h=0,c=0,p=0,g=0;for(let{r:d,e:u}of t){let t=a*(d/r-1),f=Math.exp(-t),m=-o*(1+t)*f,b=m/o,x=-o*a*d/(r*r)*f*t,_=o*t/a*f*t;e+=b*b,i+=x*b,n+=_*b,s+=(m-u)*b,l+=x*x,h+=_*x,c+=(m-u)*x,p+=_*_,g+=(m-u)*_}f=-(s-e*c/i-(i-e*l/i)/(i-e*h/n)*(s-e*g/n))/(n-e*h/i-(n-e*p/n)*(i-e*l/i)/(i-e*h/n)),u=((n-e*h/i)*f+(s-e*c/i))/(e*l/i-i),d=(-i*u-n*f-s)/e,o+=d,r+=u,a+=f}while(Math.abs(d)>l&&Math.abs(u)>h&&Math.abs(f)>c);return s.d0=o,s.r0=r,s.b=a,s}get d0(){return f.get(this).d0}set d0(t){if(!Number.isFinite(t))throw new TypeError(n("d0"));if(t<=0)throw new RangeError(s("d0"));f.get(this).d0=t}get r0(){return f.get(this).r0}set r0(t){if(!Number.isFinite(t))throw new TypeError(n("r0"));if(t<=0)throw new RangeError(s("r0"));f.get(this).r0=t}get b(){return f.get(this).b}set b(t){if(!Number.isFinite(t))throw new TypeError(n("b"));if(t<=1)throw new RangeError(s("b",1));f.get(this).b=t}at(t){if("number"!=typeof t)throw new TypeError(o);if(t<0)throw new RangeError(r);let{d0:e,r0:i,b:n}=this,s=n*(t-i)/i;return-e*(1+s)*Math.exp(-s)}toJSON(){return{type:p.type,d0:this.d0,r0:this.r0,b:this.b}}}let g=new WeakMap;class m extends t{constructor({d0:t=1,r0:e=1,b:i=1}={}){super(),g.set(this,{}),this.d0=t,this.r0=e,this.b=i}static get type(){return"Varshni3"}static fastFrom(t){if(!Array.isArray(t))throw new TypeError(i);if(t.length<3)throw new Error(e);let n=Number.POSITIVE_INFINITY,s=1;for(let{r:e,e:i}of t)i<n&&(n=i,s=e);n=Math.abs(n);let o=0,r=0;for(let{r:e,e:i}of t){let t=Math.sqrt(1+i/n),a=Number.NaN;e>s?a=Math.log(e/s*(1-t))/(s*s-e*e):e<s&&(a=Math.log(e/s*(1+t))/(s*s-e*e)),Number.isFinite(a)&&(o+=a,r++)}return o/=r,new m({d0:n,r0:s,b:o})}static from(t,{d0Conv:e=.001,r0Conv:i=.001,bConv:n=.001}={}){let s=this.fastFrom(t),{d0:o,r0:r,b:a}=s;const l=o*e,h=r*i,c=a*n;let d,u,f;do{let e=0,i=0,n=0,s=0,l=0,h=0,c=0,p=0,g=0;for(let{r:d,e:u}of t){let t=r/d*Math.exp(a*(r*r-d*d)),f=o*(1-t)*(1-t)-o,m=f/o,b=2*o*(1-t)*(-t/r-2*t*a*r),x=2*o*(1-t)*t*(d*d-r*r);e+=m*m,i+=b*m,n+=x*m,s+=(f-u)*m,l+=b*b,h+=x*b,c+=(f-u)*b,p+=x*x,g+=(f-u)*x}f=-(s-e*c/i-(i-e*l/i)/(i-e*h/n)*(s-e*g/n))/(n-e*h/i-(n-e*p/n)*(i-e*l/i)/(i-e*h/n)),u=((n-e*h/i)*f+(s-e*c/i))/(e*l/i-i),d=(-i*u-n*f-s)/e,o+=d,r+=u,a+=f}while(Math.abs(d)>l&&Math.abs(u)>h&&Math.abs(f)>c);return s.d0=o,s.r0=r,s.b=a,s}get d0(){return g.get(this).d0}set d0(t){if(!Number.isFinite(t))throw new TypeError(n("d0"));if(t<=0)throw new RangeError(s("d0"));g.get(this).d0=t}get r0(){return g.get(this).r0}set r0(t){if(!Number.isFinite(t))throw new TypeError(n("r0"));if(t<=0)throw new RangeError(s("r0"));g.get(this).r0=t}get b(){return g.get(this).b}set b(t){if(!Number.isFinite(t))throw new TypeError(n("b"));if(t<=0)throw new RangeError(s("b"));g.get(this).b=t}at(t){if("number"!=typeof t)throw new TypeError(o);if(t<0)throw new RangeError(r);let{d0:e,r0:i,b:n}=this,s=1-i/t*Math.exp(n*(i*i-t*t));return e*s*s-e}toJSON(){return{type:m.type,d0:this.d0,r0:this.r0,b:this.b}}}var b=Object.freeze({__proto__:null,Buckingham:c,LennardJones:l,Morse:u,Rydberg:p,Varshni3:m});let x=new Map;function _(t){let e=x.get(t);return e||(e=document.body.querySelector(t),e&&x.set(t,e)),e}
/*!
 * Chart.js vv3.0.0-beta.4
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */
const y="undefined"==typeof window?function(t){return t()}:window.requestAnimationFrame;function v(t,e,i){const n=i||(t=>Array.prototype.slice.call(t));let s=!1,o=[];return function(...i){o=n(i),s||(s=!0,y.call(window,(()=>{s=!1,t.apply(e,o)})))}}function w(){}const M=function(){let t=0;return function(){return t++}}();function k(t){return null==t}function E(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.substr(0,7)&&"Array]"===e.substr(-6)}function S(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}const O=t=>("number"==typeof t||t instanceof Number)&&isFinite(+t);function T(t,e){return void 0===t?e:t}function D(t,e,i){if(t&&"function"==typeof t.call)return t.apply(i,e)}function P(t,e,i,n){let s,o,r;if(E(t))if(o=t.length,n)for(s=o-1;s>=0;s--)e.call(i,t[s],s);else for(s=0;s<o;s++)e.call(i,t[s],s);else if(S(t))for(r=Object.keys(t),o=r.length,s=0;s<o;s++)e.call(i,t[r[s]],r[s])}function A(t,e){let i,n,s,o;if(!t||!e||t.length!==e.length)return!1;for(i=0,n=t.length;i<n;++i)if(s=t[i],o=e[i],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function I(t){if(E(t))return t.map(I);if(S(t)){const e={},i=Object.keys(t),n=i.length;let s=0;for(;s<n;++s)e[i[s]]=I(t[i[s]]);return e}return t}function N(t,e,i,n){const s=e[t],o=i[t];S(s)&&S(o)?L(s,o,n):e[t]=I(o)}function L(t,e,i){const n=E(e)?e:[e],s=n.length;if(!S(t))return t;const o=(i=i||{}).merger||N;for(let r=0;r<s;++r){if(!S(e=n[r]))continue;const s=Object.keys(e);for(let n=0,r=s.length;n<r;++n)o(s[n],t,e,i)}return t}function R(t,e){return L(t,e,{merger:C})}function C(t,e,i){const n=e[t],s=i[t];S(n)&&S(s)?R(n,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=I(s))}function F(t,e){if(e.length<3)return t[e];const i=e.split(".");for(let e=0,n=i.length;e<n;++e){const n=i[e];if(!(n in t))return;t=t[n]}return t}function z(t){return t.charAt(0).toUpperCase()+t.slice(1)}function j(t,e,i,n,s){let o=e[s];return o||(o=e[s]=t.measureText(s).width,i.push(s)),o>n&&(n=o),n}function W(t,e,i){const n=t.currentDevicePixelRatio,s=i/2;return Math.round((e-s)*n)/n+s}function H(t){t.ctx.clearRect(0,0,t.width,t.height)}function V(t,e){const i=.5;return t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i}function Y(t,e,i,n,s){if(!e)return t.lineTo(i.x,i.y);if("middle"===s){const n=(e.x+i.x)/2;t.lineTo(n,e.y),t.lineTo(n,i.y)}else"after"===s!=!!n?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y);t.lineTo(i.x,i.y)}function B(t,e,i,n){if(!e)return t.lineTo(i.x,i.y);t.bezierCurveTo(n?e.controlPointPreviousX:e.controlPointNextX,n?e.controlPointPreviousY:e.controlPointNextY,n?i.controlPointNextX:i.controlPointPreviousX,n?i.controlPointNextY:i.controlPointPreviousY,i.x,i.y)}function $(t,e,i){i=i||(i=>t[i]<e);let n,s=t.length-1,o=0;for(;s-o>1;)n=o+s>>1,i(n)?o=n:s=n;return{lo:o,hi:s}}const X=(t,e,i)=>$(t,i,(n=>t[n][e]<i)),q=(t,e,i)=>$(t,i,(n=>t[n][e]>=i)),U=["push","pop","shift","splice","unshift"];function K(t,e){const i=t._chartjs;if(!i)return;const n=i.listeners,s=n.indexOf(e);-1!==s&&n.splice(s,1),n.length>0||(U.forEach((e=>{delete t[e]})),delete t._chartjs)}const G=Math.PI,Z=2*G,J=Z+G,Q=Number.POSITIVE_INFINITY,tt=G/180,et=G/2,it=G/4,nt=2*G/3;const st=Math.log10||function(t){const e=Math.log(t)*Math.LOG10E,i=Math.round(e);return t===Math.pow(10,i)?i:e};function ot(t){return!isNaN(parseFloat(t))&&isFinite(t)}function rt(t,e,i){return Math.abs(t-e)<i}const at=Math.sign?function(t){return Math.sign(t)}:function(t){return 0===(t=+t)||isNaN(t)?t:t>0?1:-1};function lt(t){return t*(G/180)}function ht(t,e){return(t-e+J)%Z-G}function ct(t){return(t%Z+Z)%Z}function dt(t,e,i){const n=ct(t),s=ct(e),o=ct(i),r=ct(s-n),a=ct(o-n),l=ct(n-s),h=ct(n-o);return n===s||n===o||r>a&&l<h}function ut(t,e,i){return Math.max(e,Math.min(i,t))}const ft=Number.EPSILON||1e-14;function pt(t,e,i,n){const s=t.skip?e:t,o=e,r=i.skip?e:i,a=Math.sqrt(Math.pow(o.x-s.x,2)+Math.pow(o.y-s.y,2)),l=Math.sqrt(Math.pow(r.x-o.x,2)+Math.pow(r.y-o.y,2));let h=a/(a+l),c=l/(a+l);h=isNaN(h)?0:h,c=isNaN(c)?0:c;const d=n*h,u=n*c;return{previous:{x:o.x-d*(r.x-s.x),y:o.y-d*(r.y-s.y)},next:{x:o.x+u*(r.x-s.x),y:o.y+u*(r.y-s.y)}}}function gt(t,e,i){return Math.max(Math.min(t,i),e)}function mt(t,e,i,n){let s,o,r,a;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)!function(t){const e=(t||[]).map((t=>({model:t,deltaK:0,mK:0}))),i=e.length;let n,s,o,r,a,l,h,c,d;for(n=0;n<i;++n)if(o=e[n],!o.model.skip){if(s=n>0?e[n-1]:null,r=n<i-1?e[n+1]:null,r&&!r.model.skip){const t=r.model.x-o.model.x;o.deltaK=0!==t?(r.model.y-o.model.y)/t:0}!s||s.model.skip?o.mK=o.deltaK:!r||r.model.skip?o.mK=s.deltaK:at(s.deltaK)!==at(o.deltaK)?o.mK=0:o.mK=(s.deltaK+o.deltaK)/2}for(n=0;n<i-1;++n)o=e[n],r=e[n+1],o.model.skip||r.model.skip||(rt(o.deltaK,0,ft)?o.mK=r.mK=0:(a=o.mK/o.deltaK,l=r.mK/o.deltaK,c=Math.pow(a,2)+Math.pow(l,2),c<=9||(h=3/Math.sqrt(c),o.mK=a*h*o.deltaK,r.mK=l*h*o.deltaK)));for(n=0;n<i;++n)o=e[n],o.model.skip||(s=n>0?e[n-1]:null,r=n<i-1?e[n+1]:null,s&&!s.model.skip&&(d=(o.model.x-s.model.x)/3,o.model.controlPointPreviousX=o.model.x-d,o.model.controlPointPreviousY=o.model.y-d*o.mK),r&&!r.model.skip&&(d=(r.model.x-o.model.x)/3,o.model.controlPointNextX=o.model.x+d,o.model.controlPointNextY=o.model.y+d*o.mK))}(t);else{let i=n?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)r=t[s],a=pt(i,r,t[Math.min(s+1,o-(n?0:1))%o],e.tension),r.controlPointPreviousX=a.previous.x,r.controlPointPreviousY=a.previous.y,r.controlPointNextX=a.next.x,r.controlPointNextY=a.next.y,i=r}e.capBezierPoints&&function(t,e){let i,n,s;for(i=0,n=t.length;i<n;++i)s=t[i],V(s,e)&&(i>0&&V(t[i-1],e)&&(s.controlPointPreviousX=gt(s.controlPointPreviousX,e.left,e.right),s.controlPointPreviousY=gt(s.controlPointPreviousY,e.top,e.bottom)),i<t.length-1&&V(t[i+1],e)&&(s.controlPointNextX=gt(s.controlPointNextX,e.left,e.right),s.controlPointNextY=gt(s.controlPointNextY,e.top,e.bottom)))}(t,i)}function bt(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function xt(t,e,i){let n;return"string"==typeof t?(n=parseInt(t,10),-1!==t.indexOf("%")&&(n=n/100*e.parentNode[i])):n=t,n}const _t=t=>window.getComputedStyle(t,null);const yt=["top","right","bottom","left"];function vt(t,e,i){const n={};i=i?"-"+i:"";for(let s=0;s<4;s++){const o=yt[s];n[o]=parseFloat(t[e+"-"+o+i])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function wt(t,e){const{canvas:i,currentDevicePixelRatio:n}=e,s=_t(i),o="border-box"===s.boxSizing,r=vt(s,"padding"),a=vt(s,"border","width"),{x:l,y:h,box:c}=function(t,e){const i=t.originalEvent||t,n=i.touches,s=n&&n.length?n[0]:i,{offsetX:o,offsetY:r}=s;let a,l,h=!1;if(o>0||r>0)a=o,l=r;else{const t=e.getBoundingClientRect();a=s.clientX-t.left,l=s.clientY-t.top,h=!0}return{x:a,y:l,box:h}}(t,i),d=r.left+(c&&a.left),u=r.top+(c&&a.top);let{width:f,height:p}=e;return o&&(f-=r.width+a.width,p-=r.height+a.height),{x:Math.round((l-d)/f*i.width/n),y:Math.round((h-u)/p*i.height/n)}}function Mt(t,e,i,n){const s=_t(t),o=vt(s,"margin"),r=xt(s.maxWidth,t,"clientWidth")||Q,a=xt(s.maxHeight,t,"clientHeight")||Q,l=function(t,e,i){let n,s;if(void 0===e||void 0===i){const o=bt(t);if(o){const t=o.getBoundingClientRect(),r=_t(o),a=vt(r,"border","width"),l=vt(r,"padding");e=t.width-l.width-a.width,i=t.height-l.height-a.height,n=xt(r.maxWidth,o,"clientWidth"),s=xt(r.maxHeight,o,"clientHeight")}else e=t.clientWidth,i=t.clientHeight}return{width:e,height:i,maxWidth:n||Q,maxHeight:s||Q}}(t,e,i);let{width:h,height:c}=l;if("content-box"===s.boxSizing){const t=vt(s,"border","width"),e=vt(s,"padding");h-=e.width+t.width,c-=e.height+t.height}return h=Math.max(0,h-o.width),c=Math.max(0,n?Math.floor(h/n):c-o.height),{width:Math.min(h,r,l.maxWidth),height:Math.min(c,a,l.maxHeight)}}function kt(t,e){const i=t.currentDevicePixelRatio=e||"undefined"!=typeof window&&window.devicePixelRatio||1,{canvas:n,width:s,height:o}=t;n.height=o*i,n.width=s*i,t.ctx.setTransform(i,0,0,i,0,0),!n.style||n.style.height||n.style.width||(n.style.height=o+"px",n.style.width=s+"px")}const Et=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(t){}return t}();function St(t,e){const i=function(t,e){return t.currentStyle?t.currentStyle[e]:_t(t).getPropertyValue(e)}(t,e),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Ot(t,e,i,n){return{x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)}}function Tt(t,e,i,n){return{x:t.x+i*(e.x-t.x),y:"middle"===n?i<.5?t.y:e.y:"after"===n?i<1?t.y:e.y:i>0?e.y:t.y}}function Dt(t,e,i,n){const s={x:t.controlPointNextX,y:t.controlPointNextY},o={x:e.controlPointPreviousX,y:e.controlPointPreviousY},r=Ot(t,s,i),a=Ot(s,o,i),l=Ot(o,e,i),h=Ot(r,a,i),c=Ot(a,l,i);return Ot(h,c,i)}function Pt(t,e){if(!e)return t;const i=e.split(".");for(let e=0,n=i.length;e<n;++e){const n=i[e];t=t[n]||(t[n]={})}return t}var At=new class{constructor(){this.color="rgba(0,0,0,0.1)",this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={color:"#666",family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null,lineWidth:0,strokeStyle:void 0},this.hover={onHover:null,mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onClick=null,this.responsive=!0,this.showLines=!0,this.plugins={},this.scale=void 0,this.doughnut=void 0,this.scales={},this.controllers=void 0}set(t,e){return L(Pt(this,t),e)}get(t){return Pt(this,t)}route(t,e,i,n){const s=Pt(this,t),o=Pt(this,i),r="_"+e;Object.defineProperties(s,{[r]:{writable:!0},[e]:{enumerable:!0,get(){return T(this[r],o[n])},set(t){this[r]=t}}})}};function It(t,e){const i=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!i||"normal"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100}return e*t}const Nt=t=>+t||0;function Lt(t){const e=function(t){let e,i,n,s;return S(t)?(e=Nt(t.top),i=Nt(t.right),n=Nt(t.bottom),s=Nt(t.left)):e=i=n=s=Nt(t),{top:e,right:i,bottom:n,left:s}}(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Rt(t,e){t=t||{},e=e||At.font;let i=T(t.size,e.size);"string"==typeof i&&(i=parseInt(i,10));const n={color:T(t.color,e.color),family:T(t.family,e.family),lineHeight:It(T(t.lineHeight,e.lineHeight),i),lineWidth:T(t.lineWidth,e.lineWidth),size:i,style:T(t.style,e.style),weight:T(t.weight,e.weight),strokeStyle:T(t.strokeStyle,e.strokeStyle),string:""};return n.string=function(t){return!t||k(t.size)||k(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(n),n}function Ct(t,e,i,n){let s,o,r,a=!0;for(s=0,o=t.length;s<o;++s)if(r=t[s],void 0!==r&&(void 0!==e&&"function"==typeof r&&(r=r(e),a=!1),void 0!==i&&E(r)&&(r=r[i%r.length],a=!1),void 0!==r))return n&&!a&&(n.cacheable=!1),r}function Ft(t){return"angle"===t?{between:dt,compare:ht,normalize:ct}:{between:(t,e,i)=>t>=e&&t<=i,compare:(t,e)=>t-e,normalize:t=>t}}function zt(t,e,i,n){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n==0}}function jt(t,e,i){if(!i)return[t];const{property:n,start:s,end:o}=i,r=e.length,{compare:a,between:l,normalize:h}=Ft(n),{start:c,end:d,loop:u}=function(t,e,i){const{property:n,start:s,end:o}=i,{between:r,normalize:a}=Ft(n),l=e.length;let h,c,{start:d,end:u,loop:f}=t;if(f){for(d+=l,u+=l,h=0,c=l;h<c&&r(a(e[d%l][n]),s,o);++h)d--,u--;d%=l,u%=l}return u<d&&(u+=l),{start:d,end:u,loop:f}}(t,e,i),f=[];let p,g,m,b=!1,x=null;const _=()=>b||l(s,m,p)&&0!==a(s,m),y=()=>!b||0===a(o,p)||l(o,m,p);for(let t=c,i=c;t<=d;++t)g=e[t%r],g.skip||(p=h(g[n]),b=l(p,s,o),null===x&&_()&&(x=0===a(p,s)?t:i),null!==x&&y()&&(f.push(zt(x,t,u,r)),x=null),i=t,m=p);return null!==x&&f.push(zt(x,d,u,r)),f}
/*!
 * @kurkle/color v0.1.9
 * https://github.com/kurkle/color#readme
 * (c) 2020 Jukka Kurkela
 * Released under the MIT License
 */
const Wt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ht="0123456789ABCDEF",Vt=t=>Ht[15&t],Yt=t=>Ht[(240&t)>>4]+Ht[15&t],Bt=t=>(240&t)>>4==(15&t);function $t(t){var e=function(t){return Bt(t.r)&&Bt(t.g)&&Bt(t.b)&&Bt(t.a)}(t)?Vt:Yt;return t?"#"+e(t.r)+e(t.g)+e(t.b)+(t.a<255?e(t.a):""):t}function Xt(t){return t+.5|0}const qt=(t,e,i)=>Math.max(Math.min(t,i),e);function Ut(t){return qt(Xt(2.55*t),0,255)}function Kt(t){return qt(Xt(255*t),0,255)}function Gt(t){return qt(Xt(t/2.55)/100,0,1)}function Zt(t){return qt(Xt(100*t),0,100)}const Jt=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Qt=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function te(t,e,i){const n=e*Math.min(i,1-i),s=(e,s=(e+t/30)%12)=>i-n*Math.max(Math.min(s-3,9-s,1),-1);return[s(0),s(8),s(4)]}function ee(t,e,i){const n=(n,s=(n+t/60)%6)=>i-i*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function ie(t,e,i){const n=te(t,1,.5);let s;for(e+i>1&&(s=1/(e+i),e*=s,i*=s),s=0;s<3;s++)n[s]*=1-e-i,n[s]+=e;return n}function ne(t){const e=t.r/255,i=t.g/255,n=t.b/255,s=Math.max(e,i,n),o=Math.min(e,i,n),r=(s+o)/2;let a,l,h;return s!==o&&(h=s-o,l=r>.5?h/(2-s-o):h/(s+o),a=s===e?(i-n)/h+(i<n?6:0):s===i?(n-e)/h+2:(e-i)/h+4,a=60*a+.5),[0|a,l||0,r]}function se(t,e,i,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,n)).map(Kt)}function oe(t,e,i){return se(te,t,e,i)}function re(t){return(t%360+360)%360}function ae(t){const e=Qt.exec(t);let i,n=255;if(!e)return;e[5]!==i&&(n=e[6]?Ut(+e[5]):Kt(+e[5]));const s=re(+e[2]),o=+e[3]/100,r=+e[4]/100;return i="hwb"===e[1]?function(t,e,i){return se(ie,t,e,i)}(s,o,r):"hsv"===e[1]?function(t,e,i){return se(ee,t,e,i)}(s,o,r):oe(s,o,r),{r:i[0],g:i[1],b:i[2],a:n}}const le={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},he={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let ce;function de(t){ce||(ce=function(){const t={},e=Object.keys(he),i=Object.keys(le);let n,s,o,r,a;for(n=0;n<e.length;n++){for(r=a=e[n],s=0;s<i.length;s++)o=i[s],a=a.replace(o,le[o]);o=parseInt(he[r],16),t[a]=[o>>16&255,o>>8&255,255&o]}return t}(),ce.transparent=[0,0,0,0]);const e=ce[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}function ue(t,e,i){if(t){let n=ne(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*i,0===e?360:1)),n=oe(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function fe(t,e){return t?Object.assign(e||{},t):t}function pe(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Kt(t[3]))):(e=fe(t,{r:0,g:0,b:0,a:1})).a=Kt(e.a),e}function ge(t){return"r"===t.charAt(0)?function(t){const e=Jt.exec(t);let i,n,s,o=255;if(e){if(e[7]!==i){const t=+e[7];o=255&(e[8]?Ut(t):255*t)}return i=+e[1],n=+e[3],s=+e[5],i=255&(e[2]?Ut(i):i),n=255&(e[4]?Ut(n):n),s=255&(e[6]?Ut(s):s),{r:i,g:n,b:s,a:o}}}(t):ae(t)}class me{constructor(t){if(t instanceof me)return t;const e=typeof t;let i;var n,s,o;"object"===e?i=pe(t):"string"===e&&(o=(n=t).length,"#"===n[0]&&(4===o||5===o?s={r:255&17*Wt[n[1]],g:255&17*Wt[n[2]],b:255&17*Wt[n[3]],a:5===o?17*Wt[n[4]]:255}:7!==o&&9!==o||(s={r:Wt[n[1]]<<4|Wt[n[2]],g:Wt[n[3]]<<4|Wt[n[4]],b:Wt[n[5]]<<4|Wt[n[6]],a:9===o?Wt[n[7]]<<4|Wt[n[8]]:255})),i=s||de(t)||ge(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=fe(this._rgb);return t&&(t.a=Gt(t.a)),t}set rgb(t){this._rgb=pe(t)}rgbString(){return this._valid?(t=this._rgb)&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Gt(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`):this._rgb;var t}hexString(){return this._valid?$t(this._rgb):this._rgb}hslString(){return this._valid?function(t){if(!t)return;const e=ne(t),i=e[0],n=Zt(e[1]),s=Zt(e[2]);return t.a<255?`hsla(${i}, ${n}%, ${s}%, ${Gt(t.a)})`:`hsl(${i}, ${n}%, ${s}%)`}(this._rgb):this._rgb}mix(t,e){const i=this;if(t){const n=i.rgb,s=t.rgb;let o;const r=e===o?.5:e,a=2*r-1,l=n.a-s.a,h=((a*l==-1?a:(a+l)/(1+a*l))+1)/2;o=1-h,n.r=255&h*n.r+o*s.r+.5,n.g=255&h*n.g+o*s.g+.5,n.b=255&h*n.b+o*s.b+.5,n.a=r*n.a+(1-r)*s.a,i.rgb=n}return i}clone(){return new me(this.rgb)}alpha(t){return this._rgb.a=Kt(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=Xt(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ue(this._rgb,2,t),this}darken(t){return ue(this._rgb,2,-t),this}saturate(t){return ue(this._rgb,1,t),this}desaturate(t){return ue(this._rgb,1,-t),this}rotate(t){return function(t,e){var i=ne(t);i[0]=re(i[0]+e),i=oe(i),t.r=i[0],t.g=i[1],t.b=i[2]}(this._rgb,t),this}}function be(t){return new me(t)}const xe=t=>t instanceof CanvasGradient||t instanceof CanvasPattern;function _e(t){return xe(t)?t:be(t)}const ye={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*et),easeOutSine:t=>Math.sin(t*et),easeInOutSine:t=>-.5*(Math.cos(G*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t)),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic(t){let e=1.70158,i=0;return 0===t?0:1===t?1:(i||(i=.3),e=i/Z*Math.asin(1),-1*Math.pow(2,10*(t-=1))*Math.sin((t-e)*Z/i))},easeOutElastic(t){let e=1.70158,i=0;return 0===t?0:1===t?1:(i||(i=.3),e=i/Z*Math.asin(1),1*Math.pow(2,-10*t)*Math.sin((t-e)*Z/i)+1)},easeInOutElastic(t){let e=1.70158,i=0;return 0===t?0:2==(t/=.5)?1:(i||(i=.45),e=i/Z*Math.asin(1),t<1?1*Math.pow(2,10*(t-=1))*Math.sin((t-e)*Z/i)*-.5:1*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*Z/i)*.5+1)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-ye.easeOutBounce(1-t),easeOutBounce:t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,easeInOutBounce:t=>t<.5?.5*ye.easeInBounce(2*t):.5*ye.easeOutBounce(2*t-1)+.5};
/*!
 * Chart.js vv3.0.0-beta.4
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */var ve=new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,n){const s=e.listeners[n]||[],o=e.duration;s.forEach((n=>n({chart:t,numSteps:o,currentStep:Math.min(i-e.start,o)})))}_refresh(){const t=this;t._request||(t._running=!0,t._request=y.call(window,(()=>{t._update(),t._request=null,t._running&&t._refresh()})))}_update(){const t=this,e=Date.now();let i=0;t._charts.forEach(((n,s)=>{if(!n.running||!n.items.length)return;const o=n.items;let r,a=o.length-1,l=!1;for(;a>=0;--a)r=o[a],r._active?(r.tick(e),l=!0):(o[a]=o[o.length-1],o.pop());l&&(s.draw(),t._notify(s,n,e,"progress")),s.options.animation.debug&&function(t,e,i,n){const s=1e3/(i-n)|0,o=t.ctx;o.save(),o.clearRect(0,0,50,24),o.fillStyle="black",o.textAlign="right",e&&(o.fillText(e,50,8),o.fillText(s+" fps",50,18)),o.restore()}(s,o.length,e,t._lastDate),o.length||(n.running=!1,t._notify(s,n,e,"complete")),i+=o.length})),t._lastDate=e,0===i&&(t._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let n=i.length-1;for(;n>=0;--n)i[n].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}};const we={boolean:(t,e,i)=>i>.5?e:t,color(t,e,i){const n=_e(t||"transparent"),s=n.valid&&_e(e||"transparent");return s&&s.valid?s.mix(n,i).hexString():e},number:(t,e,i)=>t+(e-t)*i};class Me{constructor(t,e,i,n){const s=e[i];n=Ct([t.to,n,s,t.from]);const o=Ct([t.from,s,n]);this._active=!0,this._fn=t.fn||we[t.type||typeof o],this._easing=ye[t.easing||"linear"],this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=n,this._promises=void 0}active(){return this._active}update(t,e,i){const n=this;if(n._active){const s=n._target[n._prop],o=i-n._start,r=n._duration-o;n._start=i,n._duration=Math.floor(Math.max(r,t.duration)),n._loop=!!t.loop,n._to=Ct([t.to,e,s,t.from]),n._from=Ct([t.from,s,e])}}cancel(){const t=this;t._active&&(t.tick(Date.now()),t._active=!1,t._notify(!1))}tick(t){const e=this,i=t-e._start,n=e._duration,s=e._prop,o=e._from,r=e._loop,a=e._to;let l;if(e._active=o!==a&&(r||i<n),!e._active)return e._target[s]=a,void e._notify(!0);i<0?e._target[s]=o:(l=i/n%2,l=r&&l>1?2-l:l,l=e._easing(Math.min(1,Math.max(0,l))),e._target[s]=e._fn(o,a,l))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,i)=>{t.push({res:e,rej:i})}))}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let t=0;t<i.length;t++)i[t][e]()}}const ke=["borderColor","backgroundColor"];At.set("animation",{duration:1e3,easing:"easeOutQuart",onProgress:w,onComplete:w,colors:{type:"color",properties:ke},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]},active:{duration:400},resize:{duration:0},show:{colors:{type:"color",properties:ke,from:"transparent"},visible:{type:"boolean",duration:0}},hide:{colors:{type:"color",properties:ke,to:"transparent"},visible:{type:"boolean",easing:"easeInExpo"}}});class Ee{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!S(t))return;const e=this._properties,i=function(t){const e={};return Object.keys(t).forEach((i=>{const n=t[i];S(n)||(e[i]=n)})),e}(t);Object.keys(t).forEach((n=>{const s=t[n];S(s)&&(s.properties||[n]).forEach((t=>{if(e.has(t)){if(t===n){const{properties:i,...n}=e.get(t);e.set(t,Object.assign({},n,s))}}else e.set(t,Object.assign({},i,s))}))}))}_animateOptions(t,e){const i=e.options,n=function(t,e){if(!e)return;let i=t.options;if(!i)return void(t.options=e);i.$shared&&!e.$shared&&(t.options=i=Object.assign({},i,{$shared:!1,$animations:{}}));return i}(t,i);if(!n)return[];const s=this._createAnimations(n,i);return i.$shared&&!n.$shared&&function(t,e){const i=[],n=Object.keys(e);for(let e=0;e<n.length;e++){const s=t[n[e]];s&&s.active()&&i.push(s.wait())}return Promise.all(i)}(t.options.$animations,i).then((()=>{t.options=i})),s}_createAnimations(t,e){const i=this._properties,n=[],s=t.$animations||(t.$animations={}),o=Object.keys(e),r=Date.now();let a;for(a=o.length-1;a>=0;--a){const l=o[a];if("$"===l.charAt(0))continue;if("options"===l){n.push(...this._animateOptions(t,e));continue}const h=e[l];let c=s[l];const d=i.get(l);if(c){if(d&&c.active()){c.update(d,h,r);continue}c.cancel()}d&&d.duration?(s[l]=c=new Me(d,t,l,h),n.push(c)):t[l]=h}return n}update(t,e){if(0===this._properties.size)return function(t,e){const i=t.options,n=e.options;i&&n&&(i.$shared&&!n.$shared?t.options=Object.assign({},i,n,{$shared:!1}):Object.assign(i,n),delete e.options)}(t,e),void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(ve.add(this._chart,i),!0):void 0}}function Se(t,e){const i=t&&t.options||{},n=i.reverse,s=void 0===i.min?e:0,o=void 0===i.max?e:0;return{start:n?o:s,end:n?s:o}}function Oe(t,e){const i=[],n=t._getSortedDatasetMetas(e);let s,o;for(s=0,o=n.length;s<o;++s)i.push(n[s].index);return i}function Te(t,e,i,n){const s=t.keys;let o,r,a,l;for(o=0,r=s.length;o<r;++o){if(a=+s[o],a===i){if(n)continue;break}l=t.values[a],isNaN(l)||0!==e&&at(e)!==at(l)||(e+=l)}return e}function De(t,e){const i=t&&t.options.stacked;return i||void 0===i&&void 0!==e.stack}function Pe(t,e,i){const n=t[e]||(t[e]={});return n[i]||(n[i]={})}function Ae(t,e){const{chart:i,_cachedMeta:n}=t,s=i._stacks||(i._stacks={}),{iScale:o,vScale:r,index:a}=n,l=o.axis,h=r.axis,c=function(t,e,i){return t.id+"."+e.id+"."+i.stack+"."+i.type}(o,r,n),d=e.length;let u;for(let t=0;t<d;++t){const i=e[t],{[l]:n,[h]:o}=i;u=(i._stacks||(i._stacks={}))[h]=Pe(s,c,n),u[a]=o}}function Ie(t,e){const i=t.scales;return Object.keys(i).filter((t=>i[t].axis===e)).shift()}const Ne=(t,e)=>e?"hover"+z(t):t,Le=t=>"reset"===t||"none"===t;class Re{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedAnimations={},this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this._config=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.initialize()}initialize(){const t=this,e=t._cachedMeta;t.configure(),t.linkScales(),e._stacked=De(e.vScale,e),t.addElements()}updateIndex(t){this.index=t}linkScales(){const t=this,e=t.chart,i=t._cachedMeta,n=t.getDataset(),s=(t,e,i,n)=>"x"===t?e:"r"===t?n:i,o=i.xAxisID=T(n.xAxisID,Ie(e,"x")),r=i.yAxisID=T(n.yAxisID,Ie(e,"y")),a=i.rAxisID=T(n.rAxisID,Ie(e,"r")),l=i.indexAxis,h=i.iAxisID=s(l,o,r,a),c=i.vAxisID=s(l,r,o,a);i.xScale=t.getScaleForId(o),i.yScale=t.getScaleForId(r),i.rScale=t.getScaleForId(a),i.iScale=t.getScaleForId(h),i.vScale=t.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){this._data&&K(this._data,this)}_dataCheck(){const t=this,e=t.getDataset(),i=e.data||(e.data=[]);var n,s;S(i)?t._data=function(t){const e=Object.keys(t),i=new Array(e.length);let n,s,o;for(n=0,s=e.length;n<s;++n)o=e[n],i[n]={x:o,y:t[o]};return i}(i):t._data!==i&&(t._data&&K(t._data,t),i&&Object.isExtensible(i)&&(s=t,(n=i)._chartjs?n._chartjs.listeners.push(s):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[s]}}),U.forEach((t=>{const e="_onData"+z(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...t){const s=i.apply(this,t);return n._chartjs.listeners.forEach((i=>{"function"==typeof i[e]&&i[e](...t)})),s}})})))),t._data=i)}addElements(){const t=this,e=t._cachedMeta;t._dataCheck();const i=t._data,n=e.data=new Array(i.length);for(let e=0,s=i.length;e<s;++e)n[e]=new t.dataElementType;t.datasetElementType&&(e.dataset=new t.datasetElementType)}buildOrUpdateElements(){const t=this,e=t._cachedMeta,i=t.getDataset();let n=!1;t._dataCheck(),e._stacked=De(e.vScale,e),e.stack!==i.stack&&(n=!0,e._parsed.forEach((t=>{delete t._stacks[e.vScale.id][e.index]})),e.stack=i.stack),t._resyncElements(),n&&Ae(t,e._parsed)}configure(){const t=this;t._config=L({},[t.chart.options[t._type].datasets,t.getDataset()],{merger(t,e,i){"data"!==t&&N(t,e,i)}}),t._parsing=Ct([t._config.parsing,t.chart.options.parsing,!0])}parse(t,e){const i=this,{_cachedMeta:n,_data:s}=i,{iScale:o,vScale:r,_stacked:a}=n,l=o.axis;let h,c,d,u,f=!0;if(t>0&&(f=n._sorted,u=n._parsed[t-1]),!1===i._parsing)n._parsed=s,n._sorted=!0;else{c=E(s[t])?i.parseArrayData(n,s,t,e):S(s[t])?i.parseObjectData(n,s,t,e):i.parsePrimitiveData(n,s,t,e);const o=()=>isNaN(d[l])||u&&d[l]<u[l];for(h=0;h<e;++h)n._parsed[h+t]=d=c[h],f&&(o()&&(f=!1),u=d);n._sorted=f}a&&Ae(i,c),o.invalidateCaches(),r.invalidateCaches()}parsePrimitiveData(t,e,i,n){const{iScale:s,vScale:o}=t,r=s.axis,a=o.axis,l=s.getLabels(),h=s===o,c=new Array(n);let d,u,f;for(d=0,u=n;d<u;++d)f=d+i,c[d]={[r]:h||s.parse(l[f],f),[a]:o.parse(e[f],f)};return c}parseArrayData(t,e,i,n){const{xScale:s,yScale:o}=t,r=new Array(n);let a,l,h,c;for(a=0,l=n;a<l;++a)h=a+i,c=e[h],r[a]={x:s.parse(c[0],h),y:o.parse(c[1],h)};return r}parseObjectData(t,e,i,n){const{xScale:s,yScale:o}=t,{xAxisKey:r="x",yAxisKey:a="y"}=this._parsing,l=new Array(n);let h,c,d,u;for(h=0,c=n;h<c;++h)d=h+i,u=e[d],l[h]={x:s.parse(F(u,r),d),y:o.parse(F(u,a),d)};return l}getParsed(t){return this._cachedMeta._parsed[t]}applyStack(t,e){const i=this.chart,n=this._cachedMeta,s=e[t.axis];return Te({keys:Oe(i,!0),values:e._stacks[t.axis]},s,n.index)}updateRangeFromParsed(t,e,i,n){let s=i[e.axis];const o=n&&i._stacks[e.axis];n&&o&&(n.values=o,t.min=Math.min(t.min,s),t.max=Math.max(t.max,s),s=Te(n,s,this._cachedMeta.index,!0)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,e){const i=this,n=i._cachedMeta,s=n._parsed,o=n._sorted&&t===n.iScale,r=s.length,a=i._getOtherScale(t),l=e&&n._stacked&&{keys:Oe(i.chart,!0),values:null},h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(t){const{min:e,max:i,minDefined:n,maxDefined:s}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:s?i:Number.POSITIVE_INFINITY}}(a);let u,f,p,g;function m(){return p=s[u],f=p[t.axis],g=p[a.axis],isNaN(f)||isNaN(g)||c>g||d<g}for(u=0;u<r&&(m()||(i.updateRangeFromParsed(h,t,p,l),!o));++u);if(o)for(u=r-1;u>=0;--u)if(!m()){i.updateRangeFromParsed(h,t,p,l);break}return h}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let n,s,o;for(n=0,s=e.length;n<s;++n)o=e[n][t.axis],isNaN(o)||i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,n=e.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:n?""+n.getLabelForValue(s[n.axis]):""}}_update(t){const e=this,i=e._cachedMeta;e.configure(),e._cachedAnimations={},e._cachedDataOpts={},e.update(t||"default"),i._clip=function(t){let e,i,n,s;return S(t)?(e=t.top,i=t.right,n=t.bottom,s=t.left):e=i=n=s=t,{top:e,right:i,bottom:n,left:s}}(T(e._config.clip,function(t,e,i){if(!1===i)return!1;const n=Se(t,i),s=Se(e,i);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}(i.xScale,i.yScale,e.getMaxOverflow())))}update(t){}draw(){const t=this,e=t._ctx,i=t.chart,n=t._cachedMeta,s=n.data||[],o=i.chartArea,r=[],a=t._drawStart||0,l=t._drawCount||s.length-a;let h;for(n.dataset&&n.dataset.draw(e,o,a,l),h=a;h<a+l;++h){const t=s[h];t.active?r.push(t):t.draw(e,o)}for(h=0;h<r.length;++h)r[h].draw(e,o)}_addAutomaticHoverColors(t,e){const i=this.getStyle(t),n=Object.keys(i).filter((t=>-1!==t.indexOf("Color")&&!(t in e)));let s,o=n.length-1;for(;o>=0;o--)s=n[o],e[s]=(r=i[s],xe(r)?r:be(r).saturate(.5).darken(.1).hexString());var r}getStyle(t,e){const i=this,n=i._cachedMeta.dataset;i._config||i.configure();const s=n&&void 0===t?i.resolveDatasetElementOptions(e):i.resolveDataElementOptions(t||0,e&&"active");return e&&i._addAutomaticHoverColors(t,s),s}getContext(t,e){return{chart:this.chart,dataPoint:this.getParsed(t),dataIndex:t,dataset:this.getDataset(),datasetIndex:this.index,active:e}}resolveDatasetElementOptions(t){return this._resolveOptions(this.datasetElementOptions,{active:t,type:this.datasetElementType.id})}resolveDataElementOptions(t,e){const i=this,n="active"===(e=e||"default"),s=i._cachedDataOpts,o=s[e],r=i.enableOptionSharing;if(o)return((t,e)=>e?t:Object.assign({},t))(o,r);const a={cacheable:!n},l=i._resolveOptions(i.dataElementOptions,{index:t,active:n,info:a,type:i.dataElementType.id});return a.cacheable&&(l.$shared=r,s[e]=((t,e)=>e?Object.freeze(t):t)(l,r)),l}_resolveOptions(t,e){const i=this,{index:n,active:s,type:o,info:r}=e,a=i._config,l=i.chart.options.elements[o]||{},h={},c=i.getContext(n,s),d=(t=>E(t)?t:Object.keys(t))(t);for(let e=0,i=d.length;e<i;++e){const i=d[e],o=Ne(i,s),u=Ct([a[t[o]],a[o],l[o]],c,n,r);void 0!==u&&(h[i]=u)}return h}_resolveAnimations(t,e,i){const n=this,s=n.chart,o=n._cachedAnimations;if(o[e=e||"default"])return o[e];const r={cacheable:!0},a=n.getContext(t,i),l=Ct([s.options.animation],a,t,r),h=Ct([n._config.animation],a,t,r);let c=l&&R({},[h,l]);c[e]&&(c=Object.assign({},c,c[e]));const d=new Ee(s,c);return r.cacheable&&(o[e]=d&&Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Le(t)}updateElement(t,e,i,n){Le(n)?Object.assign(t,i):this._resolveAnimations(e,n).update(t,i)}updateSharedOptions(t,e,i){t&&this._resolveAnimations(void 0,e).update({options:t},{options:i})}_setStyle(t,e,i,n){t.active=n;const s=this.getStyle(e,n);this._resolveAnimations(e,i,n).update(t,{options:this.getSharedOptions(s)||s})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(){const t=this,e=t._cachedMeta,i=e.data.length,n=t._data.length;n>i?t._insertElements(i,n-i):n<i&&(e.data.splice(n,i-n),e._parsed.splice(n,i-n)),t.parse(0,Math.min(n,i))}_insertElements(t,e){const i=this,n=new Array(e),s=i._cachedMeta,o=s.data;let r;for(r=0;r<e;++r)n[r]=new i.dataElementType;o.splice(t,0,...n),i._parsing&&s._parsed.splice(t,0,...new Array(e)),i.parse(t,e),i.updateElements(o,t,e,"reset")}updateElements(t,e,i,n){}_removeElements(t,e){const i=this;i._parsing&&i._cachedMeta._parsed.splice(t,e),i._cachedMeta.data.splice(t,e)}_onDataPush(){const t=arguments.length;this._insertElements(this.getDataset().data.length-t,t)}_onDataPop(){this._removeElements(this._cachedMeta.data.length-1,1)}_onDataShift(){this._removeElements(0,1)}_onDataSplice(t,e){this._removeElements(t,e),this._insertElements(t,arguments.length-2)}_onDataUnshift(){this._insertElements(0,arguments.length)}}Re.defaults={},Re.prototype.datasetElementType=null,Re.prototype.dataElementType=null,Re.prototype.datasetElementOptions=["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],Re.prototype.dataElementOptions=["backgroundColor","borderColor","borderWidth","pointStyle"];class Ce extends Re{initialize(){this.enableOptionSharing=!0,super.initialize()}update(t){const e=this,i=e._cachedMeta,{dataset:n,data:s=[]}=i,o=e.chart._animationsDisabled;let{start:r,count:a}=function(t,e,i){const n=e.length;let s=0,o=n;if(t._sorted){const{iScale:r,_parsed:a}=t,l=r.axis,{min:h,max:c,minDefined:d,maxDefined:u}=r.getUserBounds();d&&(s=ut(Math.min(X(a,r.axis,h).lo,i?n:X(e,l,r.getPixelForValue(h)).lo),0,n-1)),o=u?ut(Math.max(X(a,r.axis,c).hi+1,i?0:X(e,l,r.getPixelForValue(c)).hi+1),s,n)-s:n-s}return{start:s,count:o}}(i,s,o);if(e._drawStart=r,e._drawCount=a,function(t){const{xScale:e,yScale:i,_scaleRanges:n}=t,s={xmin:e.min,xmax:e.max,ymin:i.min,ymax:i.max};if(!n)return t._scaleRanges=s,!0;const o=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==i.min||n.ymax!==i.max;return Object.assign(n,s),o}(i)&&!o&&(r=0,a=s.length),"resize"!==t){const i={points:s,options:e.resolveDatasetElementOptions()};e.updateElement(n,void 0,i,t)}e.updateElements(s,r,a,t)}updateElements(t,e,i,n){const s=this,o="reset"===n,{xScale:r,yScale:a,_stacked:l}=s._cachedMeta,h=s.resolveDataElementOptions(e,n),c=s.getSharedOptions(h),d=s.includeOptions(n,c),u=T(s._config.spanGaps,s.chart.options.spanGaps),f=ot(u)?u:Number.POSITIVE_INFINITY;let p=e>0&&s.getParsed(e-1);for(let h=e;h<e+i;++h){const e=t[h],i=s.getParsed(h),u=r.getPixelForValue(i.x,h),g=o?a.getBasePixel():a.getPixelForValue(l?s.applyStack(a,i):i.y,h),m={x:u,y:g,skip:isNaN(u)||isNaN(g),stop:h>0&&i.x-p.x>f};d&&(m.options=c||s.resolveDataElementOptions(h,n)),s.updateElement(e,h,m,n),p=i}s.updateSharedOptions(c,n,h)}resolveDatasetElementOptions(t){const e=this._config,i=this.chart.options,n=i.elements.line,s=super.resolveDatasetElementOptions(t),o=T(e.showLine,i.showLines);return s.spanGaps=T(e.spanGaps,i.spanGaps),s.tension=T(e.lineTension,n.tension),s.stepped=Ct([e.stepped,n.stepped]),o||(s.borderWidth=0),s}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset.options.borderWidth||0,i=t.data||[];if(!i.length)return e;const n=i[0].size(),s=i[i.length-1].size();return Math.max(e,n,s)/2}draw(){this._cachedMeta.dataset.updateControlPoints(this.chart.chartArea),super.draw()}}function Fe(t,e){return"native"in t?{x:t.x,y:t.y}:wt(t,e)}function ze(t,e,i,n){const{controller:s,data:o,_sorted:r}=t,a=s._cachedMeta.iScale;if(a&&e===a.axis&&r&&o.length){const t=a._reversePixels?q:X;if(!n)return t(o,e,i);if(s._sharedOptions){const n=o[0],s="function"==typeof n.getRange&&n.getRange(e);if(s){const n=t(o,e,i-s),r=t(o,e,i+s);return{lo:n.lo,hi:r.hi}}}}return{lo:0,hi:o.length-1}}function je(t,e,i,n,s){const o=t.getSortedVisibleDatasetMetas(),r=i[e];for(let t=0,i=o.length;t<i;++t){const{index:i,data:a}=o[t],{lo:l,hi:h}=ze(o[t],e,r,s);for(let t=l;t<=h;++t){const e=a[t];e.skip||n(e,i,t)}}}function We(t,e,i,n){const s=[];if(!V(e,t.chartArea))return s;return je(t,i,e,(function(t,i,o){t.inRange(e.x,e.y,n)&&s.push({element:t,datasetIndex:i,index:o})}),!0),s}function He(t,e,i,n,s){const o=function(t){const e=-1!==t.indexOf("x"),i=-1!==t.indexOf("y");return function(t,n){const s=e?Math.abs(t.x-n.x):0,o=i?Math.abs(t.y-n.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}(i);let r=Number.POSITIVE_INFINITY,a=[];if(!V(e,t.chartArea))return a;return je(t,i,e,(function(t,i,l){if(n&&!t.inRange(e.x,e.y,s))return;const h=t.getCenterPoint(s),c=o(e,h);c<r?(a=[{element:t,datasetIndex:i,index:l}],r=c):c===r&&a.push({element:t,datasetIndex:i,index:l})})),a}function Ve(t,e,i,n){const s=Fe(e,t),o=[],r=i.axis,a="x"===r?"inXRange":"inYRange";let l=!1;return function(t,e){const i=t.getSortedVisibleDatasetMetas();let n,s,o;for(let t=0,r=i.length;t<r;++t){({index:n,data:s}=i[t]);for(let t=0,i=s.length;t<i;++t)o=s[t],o.skip||e(o,n,t)}}(t,((t,e,i)=>{t[a](s[r],n)&&o.push({element:t,datasetIndex:e,index:i}),t.inRange(s.x,s.y,n)&&(l=!0)})),i.intersect&&!l?[]:o}Ce.id="line",Ce.defaults={datasetElementType:"line",datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","capBezierPoints","cubicInterpolationMode","fill"],dataElementType:"point",dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverHitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},showLines:!0,spanGaps:!1,hover:{mode:"index"},scales:{_index_:{type:"category"},_value_:{type:"linear"}}};var Ye={modes:{index(t,e,i,n){const s=Fe(e,t),o=i.axis||"x",r=i.intersect?We(t,s,o,n):He(t,s,o,!1,n),a=[];return r.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=r[0].index,i=t.data[e];i&&!i.skip&&a.push({element:i,datasetIndex:t.index,index:e})})),a):[]},dataset(t,e,i,n){const s=Fe(e,t),o=i.axis||"xy";let r=i.intersect?We(t,s,o,n):He(t,s,o,!1,n);if(r.length>0){const e=r[0].datasetIndex,i=t.getDatasetMeta(e).data;r=[];for(let t=0;t<i.length;++t)r.push({element:i[t],datasetIndex:e,index:t})}return r},point:(t,e,i,n)=>We(t,Fe(e,t),i.axis||"xy",n),nearest:(t,e,i,n)=>He(t,Fe(e,t),i.axis||"xy",i.intersect,n),x:(t,e,i,n)=>(i.axis="x",Ve(t,e,i,n)),y:(t,e,i,n)=>(i.axis="y",Ve(t,e,i,n))}};const Be=["left","top","right","bottom"];function $e(t,e){return t.filter((t=>t.pos===e))}function Xe(t,e){return t.filter((t=>-1===Be.indexOf(t.pos)&&t.box.axis===e))}function qe(t,e){return t.sort(((t,i)=>{const n=e?i:t,s=e?t:i;return n.weight===s.weight?n.index-s.index:n.weight-s.weight}))}function Ue(t,e,i,n){return Math.max(t[i],e[i])+Math.max(t[n],e[n])}function Ke(t,e,i){const n=i.box,s=t.maxPadding;if(i.size&&(t[i.pos]-=i.size),i.size=i.horizontal?n.height:n.width,t[i.pos]+=i.size,n.getPadding){const t=n.getPadding();s.top=Math.max(s.top,t.top),s.left=Math.max(s.left,t.left),s.bottom=Math.max(s.bottom,t.bottom),s.right=Math.max(s.right,t.right)}const o=e.outerWidth-Ue(s,t,"left","right"),r=e.outerHeight-Ue(s,t,"top","bottom");if(o!==t.w||r!==t.h)return t.w=o,t.h=r,i.horizontal?o!==t.w:r!==t.h}function Ge(t,e){const i=e.maxPadding;function n(t){const n={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{n[t]=Math.max(e[t],i[t])})),n}return n(t?["left","right"]:["top","bottom"])}function Ze(t,e,i){const n=[];let s,o,r,a,l,h;for(s=0,o=t.length;s<o;++s)r=t[s],a=r.box,a.update(r.width||e.w,r.height||e.h,Ge(r.horizontal,e)),Ke(e,i,r)&&(h=!0,n.length&&(l=!0)),a.fullWidth||n.push(r);return l&&Ze(n,e,i)||h}function Je(t,e,i){const n=i.padding;let s,o,r,a,l=e.x,h=e.y;for(s=0,o=t.length;s<o;++s)r=t[s],a=r.box,r.horizontal?(a.left=a.fullWidth?n.left:e.left,a.right=a.fullWidth?i.outerWidth-n.right:e.left+e.w,a.top=h,a.bottom=h+a.height,a.width=a.right-a.left,h=a.bottom):(a.left=l,a.right=l+a.width,a.top=a.fullWidth?n.top:e.top,a.bottom=a.fullWidth?i.outerHeight-n.right:e.top+e.h,a.height=a.bottom-a.top,l=a.right);e.x=l,e.y=h}At.set("layout",{padding:{top:0,right:0,bottom:0,left:0}});var Qe={addBox(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const i=t.boxes?t.boxes.indexOf(e):-1;-1!==i&&t.boxes.splice(i,1)},configure(t,e,i){const n=["fullWidth","position","weight"],s=n.length;let o,r=0;for(;r<s;++r)o=n[r],Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},update(t,e,i){if(!t)return;const n=Lt((t.options.layout||{}).padding),s=e-n.width,o=i-n.height,r=function(t){const e=function(t){const e=[];let i,n,s;for(i=0,n=(t||[]).length;i<n;++i)s=t[i],e.push({index:i,box:s,pos:s.position,horizontal:s.isHorizontal(),weight:s.weight});return e}(t),i=qe($e(e,"left"),!0),n=qe($e(e,"right")),s=qe($e(e,"top"),!0),o=qe($e(e,"bottom")),r=Xe(e,"x"),a=Xe(e,"y");return{leftAndTop:i.concat(s),rightAndBottom:n.concat(a).concat(o).concat(r),chartArea:$e(e,"chartArea"),vertical:i.concat(n).concat(a),horizontal:s.concat(o).concat(r)}}(t.boxes),a=r.vertical,l=r.horizontal,h=Object.freeze({outerWidth:e,outerHeight:i,padding:n,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/a.length,hBoxMaxHeight:o/2}),c=Object.assign({maxPadding:Object.assign({},n),w:s,h:o,x:n.left,y:n.top},n);!function(t,e){let i,n,s;for(i=0,n=t.length;i<n;++i)s=t[i],s.horizontal?(s.width=s.box.fullWidth&&e.availableWidth,s.height=e.hBoxMaxHeight):(s.width=e.vBoxMaxWidth,s.height=s.box.fullWidth&&e.availableHeight)}(a.concat(l),h),Ze(a,c,h),Ze(l,c,h)&&Ze(a,c,h),function(t){const e=t.maxPadding;function i(i){const n=Math.max(e[i]-t[i],0);return t[i]+=n,n}t.y+=i("top"),t.x+=i("left"),i("right"),i("bottom")}(c),Je(r.leftAndTop,c,h),c.x+=c.w,c.y+=c.h,Je(r.rightAndBottom,c,h),t.chartArea={left:c.left,top:c.top,right:c.left+c.w,bottom:c.top+c.h,height:c.h,width:c.w},P(r.chartArea,(e=>{const i=e.box;Object.assign(i,t.chartArea),i.update(c.w,c.h)}))}};class ti{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,n){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,n?Math.floor(e/n):i)}}isAttached(t){return!0}}class ei extends ti{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}}const ii={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ni=t=>null===t||""===t;const si=!!Et&&{passive:!0};function oi(t,e,i){t.canvas.removeEventListener(e,i,si)}function ri(t,e,i){const n=t.canvas,s=n&&bt(n)||n,o=new MutationObserver((t=>{const e=bt(s);t.forEach((t=>{for(let n=0;n<t.addedNodes.length;n++){const o=t.addedNodes[n];o!==s&&o!==e||i(t.target)}}))}));return o.observe(document,{childList:!0,subtree:!0}),o}function ai(t,e,i){const n=t.canvas,s=n&&bt(n);if(!s)return;const o=new MutationObserver((t=>{t.forEach((t=>{for(let e=0;e<t.removedNodes.length;e++)if(t.removedNodes[e]===n){i();break}}))}));return o.observe(s,{childList:!0}),o}const li=new Map;let hi=0;function ci(){const t=window.devicePixelRatio;t!==hi&&(hi=t,li.forEach(((e,i)=>{i.currentDevicePixelRatio!==t&&e()})))}function di(t,e,i){const n=t.canvas,s=n&&bt(n);if(!s)return;const o=v(((t,e)=>{const n=s.clientWidth;i(t,e),n<s.clientWidth&&i()}),window),r=new ResizeObserver((t=>{const e=t[0],i=e.contentRect.width,n=e.contentRect.height;0===i&&0===n||o(i,n)}));return r.observe(s),function(t,e){li.size||window.addEventListener("resize",ci),li.set(t,e)}(t,o),r}function ui(t,e,i){i&&i.disconnect(),"resize"===e&&function(t){li.delete(t),li.size||window.removeEventListener("resize",ci)}(t)}function fi(t,e,i){const n=t.canvas,s=v((e=>{null!==t.ctx&&i(function(t,e){const i=ii[t.type]||t.type,{x:n,y:s}=wt(t,e);return{type:i,chart:e,native:t,x:void 0!==n?n:null,y:void 0!==s?s:null}}(e,t))}),t,(t=>{const e=t[0];return[e,e.offsetX,e.offsetY]}));return function(t,e,i){t.addEventListener(e,i,si)}(n,e,s),s}class pi extends ti{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function(t,e){const i=t.style,n=t.getAttribute("height"),s=t.getAttribute("width");if(t.$chartjs={initial:{height:n,width:s,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",ni(s)){const e=St(t,"width");void 0!==e&&(t.width=e)}if(ni(n))if(""===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{const e=St(t,"height");void 0!==e&&(t.height=e)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e.$chartjs)return!1;const i=e.$chartjs.initial;["height","width"].forEach((t=>{const n=i[t];k(n)?e.removeAttribute(t):e.setAttribute(t,n)}));const n=i.style||{};return Object.keys(n).forEach((t=>{e.style[t]=n[t]})),e.width=e.width,delete e.$chartjs,!0}addEventListener(t,e,i){this.removeEventListener(t,e);const n=t.$proxies||(t.$proxies={}),s={attach:ri,detach:ai,resize:di}[e]||fi;n[e]=s(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),n=i[e];if(!n)return;({attach:ui,detach:ui,resize:ui}[e]||oi)(t,e,n),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,n){return Mt(t,e,i,n)}isAttached(t){const e=bt(t);return!(!e||!bt(e))}}class gi{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return ot(this.x)&&ot(this.y)}getProps(t,e){const i=this,n=this.$animations;if(!e||!n)return i;const s={};return t.forEach((t=>{s[t]=n[t]&&n[t].active?n[t]._to:i[t]})),s}}gi.defaults={},gi.defaultRoutes=void 0;const mi=new Map,bi={values:t=>E(t)?t:""+t,numeric(t,e,i){if(0===t)return"0";const n=this.chart.options.locale,s=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));let o;(s<1e-4||s>1e15)&&(o="scientific");let r=i.length>3?i[2].value-i[1].value:i[1].value-i[0].value;Math.abs(r)>1&&t!==Math.floor(t)&&(r=t-Math.floor(t));const a=st(Math.abs(r)),l=Math.max(Math.min(-1*Math.floor(a),20),0),h={notation:o,minimumFractionDigits:l,maximumFractionDigits:l};Object.assign(h,this.options.ticks.format);const c=n+JSON.stringify(h);let d=mi.get(c);return d||(d=new Intl.NumberFormat(n,h),mi.set(c,d)),d.format(t)},logarithmic:function(t,e,i){if(0===t)return"0";const n=t/Math.pow(10,Math.floor(st(t)));return 1===n||2===n||5===n?bi.numeric.call(this,t,e,i):""}};var xi={formatters:bi};function _i(t,e){const i=[],n=t.length/e,s=t.length;let o=0;for(;o<s;o+=n)i.push(t[Math.floor(o)]);return i}function yi(t,e,i){const n=t.ticks.length,s=Math.min(e,n-1),o=t._startPixel,r=t._endPixel,a=1e-6;let l,h=t.getPixelForTick(s);if(!(i&&(l=1===n?Math.max(h-o,r-h):0===e?(t.getPixelForTick(1)-h)/2:(h-t.getPixelForTick(s-1))/2,h+=s<e?l:-l,h<o-a||h>r+a)))return h}function vi(t){return t.drawTicks?t.tickMarkLength:0}function wi(t,e){if(!t.display)return 0;const i=Rt(t.font,e),n=Lt(t.padding);return i.lineHeight+n.height}function Mi(t,e,i){const n=function(t){const e=t.length;let i,n;if(e<2)return!1;for(n=t[0],i=1;i<e;++i)if(t[i]-t[i-1]!==n)return!1;return n}(t),s=e.length/i;if(!n)return Math.max(s,1);const o=function(t){const e=[],i=Math.sqrt(t);let n;for(n=1;n<i;n++)t%n==0&&(e.push(n),e.push(t/n));return i===(0|i)&&e.push(i),e.sort(((t,e)=>t-e)).pop(),e}(n);for(let t=0,e=o.length-1;t<e;t++){const e=o[t];if(e>s)return e}return Math.max(s,1)}function ki(t,e,i,n,s){const o=T(n,0),r=Math.min(T(s,t.length),t.length);let a,l,h,c=0;for(i=Math.ceil(i),s&&(a=s-n,i=a/Math.floor(a/i)),h=o;h<0;)c++,h=Math.round(o+c*i);for(l=Math.max(o,0);l<r;l++)l===h&&(e.push(t[l]),c++,h=Math.round(o+c*i))}At.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,lineWidth:0,strokeStyle:"",padding:0,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:xi.formatters.values,minor:{},major:{},align:"center",crossAlign:"near"}});class Ei extends gi{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._ticksLength=0,this._borderValue=0}init(t){const e=this;e.options=t,e.axis=e.isHorizontal()?"x":"y",e._userMin=e.parse(t.min),e._userMax=e.parse(t.max)}parse(t,e){return t}getUserBounds(){let t=this._userMin,e=this._userMax;return(k(t)||isNaN(t))&&(t=Number.POSITIVE_INFINITY),(k(e)||isNaN(e))&&(e=Number.NEGATIVE_INFINITY),{min:t,max:e,minDefined:O(t),maxDefined:O(e)}}getMinMax(t){const e=this;let i,{min:n,max:s,minDefined:o,maxDefined:r}=e.getUserBounds();if(o&&r)return{min:n,max:s};const a=e.getMatchingVisibleMetas();for(let l=0,h=a.length;l<h;++l)i=a[l].controller.getMinMax(e,t),o||(n=Math.min(n,i.min)),r||(s=Math.max(s,i.max));return{min:n,max:s}}invalidateCaches(){}getPadding(){const t=this;return{left:t.paddingLeft||0,top:t.paddingTop||0,right:t.paddingRight||0,bottom:t.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeUpdate(){D(this.options.beforeUpdate,[this])}update(t,e,i){const n=this,s=n.options.ticks,o=s.sampleSize;n.beforeUpdate(),n.maxWidth=t,n.maxHeight=e,n._margins=Object.assign({left:0,right:0,top:0,bottom:0},i),n.ticks=null,n._labelSizes=null,n._gridLineItems=null,n._labelItems=null,n.beforeSetDimensions(),n.setDimensions(),n.afterSetDimensions(),n.beforeDataLimits(),n.determineDataLimits(),n.afterDataLimits(),n.beforeBuildTicks(),n.ticks=n.buildTicks()||[],n.afterBuildTicks();const r=o<n.ticks.length;n._convertTicksToLabels(r?_i(n.ticks,o):n.ticks),n.configure(),n.beforeCalculateLabelRotation(),n.calculateLabelRotation(),n.afterCalculateLabelRotation(),n.beforeFit(),n.fit(),n.afterFit(),n.ticks=s.display&&(s.autoSkip||"auto"===s.source)?n._autoSkip(n.ticks):n.ticks,r&&n._convertTicksToLabels(n.ticks),n.afterUpdate()}configure(){const t=this;let e,i,n=t.options.reverse;t.isHorizontal()?(e=t.left,i=t.right):(e=t.top,i=t.bottom,n=!n),t._startPixel=e,t._endPixel=i,t._reversePixels=n,t._length=i-e}afterUpdate(){D(this.options.afterUpdate,[this])}beforeSetDimensions(){D(this.options.beforeSetDimensions,[this])}setDimensions(){const t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0}afterSetDimensions(){D(this.options.afterSetDimensions,[this])}beforeDataLimits(){D(this.options.beforeDataLimits,[this])}determineDataLimits(){}afterDataLimits(){D(this.options.afterDataLimits,[this])}beforeBuildTicks(){D(this.options.beforeBuildTicks,[this])}buildTicks(){return[]}afterBuildTicks(){D(this.options.afterBuildTicks,[this])}beforeTickToLabelConversion(){D(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this,i=e.options.ticks;let n,s,o;for(n=0,s=t.length;n<s;n++)o=t[n],o.label=D(i.callback,[o.value,n,t],e)}afterTickToLabelConversion(){D(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){D(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this,e=t.options,i=e.ticks,n=t.ticks.length,s=i.minRotation||0,o=i.maxRotation;let r,a,l,h=s;if(!t._isVisible()||!i.display||s>=o||n<=1||!t.isHorizontal())return void(t.labelRotation=s);const c=t._getLabelSizes(),d=c.widest.width,u=c.highest.height-c.highest.offset,f=Math.min(t.maxWidth,t.chart.width-d);r=e.offset?t.maxWidth/n:f/(n-1),d+6>r&&(r=f/(n-(e.offset?.5:1)),a=t.maxHeight-vi(e.gridLines)-i.padding-wi(e.scaleLabel,t.chart.options.font),l=Math.sqrt(d*d+u*u),h=Math.min(Math.asin(Math.min((c.highest.height+6)/r,1)),Math.asin(Math.min(a/l,1))-Math.asin(u/l))*(180/G),h=Math.max(s,Math.min(o,h))),t.labelRotation=h}afterCalculateLabelRotation(){D(this.options.afterCalculateLabelRotation,[this])}beforeFit(){D(this.options.beforeFit,[this])}fit(){const t=this,e={width:0,height:0},i=t.chart,n=t.options,s=n.ticks,o=n.scaleLabel,r=n.gridLines,a=t._isVisible(),l="top"!==n.position&&"x"===t.axis,h=t.isHorizontal(),c=a&&wi(o,i.options.font);if(h?e.width=t.maxWidth:a&&(e.width=vi(r)+c),h?a&&(e.height=vi(r)+c):e.height=t.maxHeight,s.display&&a&&t.ticks.length){const i=t._getLabelSizes(),n=i.first,o=i.last,r=i.widest,a=i.highest,c=.8*a.offset,d=s.padding;if(h){const i=0!==t.labelRotation,h=lt(t.labelRotation),u=Math.cos(h),f=Math.sin(h),p=f*r.width+u*(a.height-(i?a.offset:0))+(i?0:c);e.height=Math.min(t.maxHeight,e.height+p+d);const g=t.getPixelForTick(0)-t.left,m=t.right-t.getPixelForTick(t.ticks.length-1);let b,x;i?(b=l?u*n.width+f*n.offset:f*(n.height-n.offset),x=l?f*(o.height-o.offset):u*o.width+f*o.offset):"start"===s.align?(b=0,x=o.width):"end"===s.align?(b=n.width,x=0):(b=n.width/2,x=o.width/2),t.paddingLeft=Math.max((b-g)*t.width/(t.width-g),0)+3,t.paddingRight=Math.max((x-m)*t.width/(t.width-m),0)+3}else{const i=s.mirror?0:r.width+d+c;e.width=Math.min(t.maxWidth,e.width+i);let a=o.height/2,l=n.height/2;"start"===s.align?(a=0,l=n.height):"end"===s.align&&(a=o.height,l=0),t.paddingTop=a,t.paddingBottom=l}}t._handleMargins(),h?(t.width=t._length=i.width-t._margins.left-t._margins.right,t.height=e.height):(t.width=e.width,t.height=t._length=i.height-t._margins.top-t._margins.bottom)}_handleMargins(){const t=this;t._margins&&(t._margins.left=Math.max(t.paddingLeft,t._margins.left),t._margins.top=Math.max(t.paddingTop,t._margins.top),t._margins.right=Math.max(t.paddingRight,t._margins.right),t._margins.bottom=Math.max(t.paddingBottom,t._margins.bottom))}afterFit(){D(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullWidth(){return this.options.fullWidth}_convertTicksToLabels(t){const e=this;e.beforeTickToLabelConversion(),e.generateTickLabels(t),e.afterTickToLabelConversion()}_getLabelSizes(){const t=this;let e=t._labelSizes;return e||(t._labelSizes=e=t._computeLabelSizes()),e}_computeLabelSizes(){const t=this,e=t.ctx,i=t._longestTextCache,n=t.options.ticks.sampleSize,s=[],o=[],r=[];let a=t.ticks;n<a.length&&(a=_i(a,n));const l=a.length;let h,c,d,u,f,p,g,m,b,x,_;for(h=0;h<l;++h){if(u=a[h].label,f=t._resolveTickFontOptions(h),e.font=p=f.string,g=i[p]=i[p]||{data:{},gc:[]},m=f.lineHeight,b=x=0,k(u)||E(u)){if(E(u))for(c=0,d=u.length;c<d;++c)_=u[c],k(_)||E(_)||(b=j(e,g.data,g.gc,b,_),x+=m)}else b=j(e,g.data,g.gc,b,u),x=m;s.push(b),o.push(x),r.push(m/2)}!function(t,e){P(t,(t=>{const i=t.gc,n=i.length/2;let s;if(n>e){for(s=0;s<n;++s)delete t.data[i[s]];i.splice(0,n)}}))}(i,l);const y=s.indexOf(Math.max.apply(null,s)),v=o.indexOf(Math.max.apply(null,o));function w(t){return{width:s[t]||0,height:o[t]||0,offset:r[t]||0}}return{first:w(0),last:w(l-1),widest:w(y),highest:w(v)}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){const e=this;return e._reversePixels&&(t=1-t),ut(e._startPixel+t*e._length,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];return{chart:this.chart,scale:this,tick:e[t],index:t}}_autoSkip(t){const e=this,i=e.options.ticks,n=i.maxTicksLimit||e._length/e._tickSize(),s=i.major.enabled?function(t){const e=[];let i,n;for(i=0,n=t.length;i<n;i++)t[i].major&&e.push(i);return e}(t):[],o=s.length,r=s[0],a=s[o-1],l=[];if(o>n)return function(t,e,i,n){let s,o=0,r=i[0];for(n=Math.ceil(n),s=0;s<t.length;s++)s===r&&(e.push(t[s]),o++,r=i[o*n])}(t,l,s,o/n),l;const h=Mi(s,t,n);if(o>0){let e,i;const n=o>1?Math.round((a-r)/(o-1)):null;for(ki(t,l,h,k(n)?0:r-n,r),e=0,i=o-1;e<i;e++)ki(t,l,h,s[e],s[e+1]);return ki(t,l,h,a,k(n)?t.length:a+n),l}return ki(t,l,h),l}_tickSize(){const t=this,e=t.options.ticks,i=lt(t.labelRotation),n=Math.abs(Math.cos(i)),s=Math.abs(Math.sin(i)),o=t._getLabelSizes(),r=e.autoSkipPadding||0,a=o?o.widest.width+r:0,l=o?o.highest.height+r:0;return t.isHorizontal()?l*n>a*s?a/n:l/s:l*s<a*n?l/n:a/s}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this,i=e.axis,n=e.chart,s=e.options,{gridLines:o,position:r}=s,a=o.offsetGridLines,l=e.isHorizontal(),h=e.ticks.length+(a?1:0),c=vi(o),d=[];let u=this.getContext(0);const f=o.drawBorder?Ct([o.borderWidth,o.lineWidth,0],u,0):0,p=f/2,g=function(t){return W(n,t,f)};let m,b,x,_,y,v,w,M,k,E,O,T;if("top"===r)m=g(e.bottom),v=e.bottom-c,M=m-p,E=g(t.top)+p,T=t.bottom;else if("bottom"===r)m=g(e.top),E=t.top,T=g(t.bottom)-p,v=m+p,M=e.top+c;else if("left"===r)m=g(e.right),y=e.right-c,w=m-p,k=g(t.left)+p,O=t.right;else if("right"===r)m=g(e.left),k=t.left,O=g(t.right)-p,y=m+p,w=e.left+c;else if("x"===i){if("center"===r)m=g((t.top+t.bottom)/2);else if(S(r)){const t=Object.keys(r)[0],i=r[t];m=g(e.chart.scales[t].getPixelForValue(i))}E=t.top,T=t.bottom,v=m+p,M=v+c}else if("y"===i){if("center"===r)m=g((t.left+t.right)/2);else if(S(r)){const t=Object.keys(r)[0],i=r[t];m=g(e.chart.scales[t].getPixelForValue(i))}y=m-p,w=y-c,k=t.left,O=t.right}for(b=0;b<h;++b){u=this.getContext(b);const t=Ct([o.lineWidth],u,b),i=Ct([o.color],u,b),s=o.borderDash||[],r=Ct([o.borderDashOffset],u,b);x=yi(e,b,a),void 0!==x&&(_=W(n,x,t),l?y=w=k=O=_:v=M=E=T=_,d.push({tx1:y,ty1:v,tx2:w,ty2:M,x1:k,y1:E,x2:O,y2:T,width:t,color:i,borderDash:s,borderDashOffset:r}))}return e._ticksLength=h,e._borderValue=m,d}_computeLabelItems(t){const e=this,i=e.axis,n=e.options,{position:s,ticks:o}=n,r=e.isHorizontal(),a=e.ticks,{align:l,crossAlign:h,padding:c}=o,d=vi(n.gridLines),u=d+c,f=-lt(e.labelRotation),p=[];let g,m,b,x,_,y,v,w,M,k,O,T,D="middle";if("top"===s)y=e.bottom-u,v=e._getXAxisLabelAlignment();else if("bottom"===s)y=e.top+u,v=e._getXAxisLabelAlignment();else if("left"===s){const t=this._getYAxisLabelAlignment(d);v=t.textAlign,_=t.x}else if("right"===s){const t=this._getYAxisLabelAlignment(d);v=t.textAlign,_=t.x}else if("x"===i){if("center"===s)y=(t.top+t.bottom)/2+u;else if(S(s)){const t=Object.keys(s)[0],i=s[t];y=e.chart.scales[t].getPixelForValue(i)+u}v=e._getXAxisLabelAlignment()}else if("y"===i){if("center"===s)_=(t.left+t.right)/2-u;else if(S(s)){const t=Object.keys(s)[0],i=s[t];_=e.chart.scales[t].getPixelForValue(i)}v=this._getYAxisLabelAlignment(d).textAlign}"y"===i&&("start"===l?D="top":"end"===l&&(D="bottom"));const P=e._getLabelSizes();for(g=0,m=a.length;g<m;++g){b=a[g],x=b.label,w=e.getPixelForTick(g)+o.labelOffset,M=e._resolveTickFontOptions(g),k=M.lineHeight,O=E(x)?x.length:1;const t=O/2;r?(_=w,"top"===s?"near"===h||0!==f?(T=(Math.sin(f)*t+.5)*k,T-=(0===f?O-.5:Math.cos(f)*t)*k):"center"===h?(T=P.highest.height/2*-1,T-=t*k):T=-1*P.highest.height+.5*k:"bottom"===s&&("near"===h||0!==f?(T=Math.sin(f)*t*k,T+=(0===f?.5:Math.cos(f)*t)*k):"center"===h?(T=P.highest.height/2,T-=t*k):T=P.highest.height-(O-.5)*k)):(y=w,T=(1-O)*k/2),p.push({x:_,y:y,rotation:f,label:x,font:M,textOffset:T,textAlign:v,textBaseline:D})}return p}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-lt(this.labelRotation))return"top"===t?"left":"right";let i="center";return"start"===e.align?i="left":"end"===e.align&&(i="right"),i}_getYAxisLabelAlignment(t){const e=this,{position:i,ticks:n}=e.options,{crossAlign:s,mirror:o,padding:r}=n,a=t+r,l=e._getLabelSizes().widest.width;let h,c;return"left"===i?o?(h="left",c=e.right-r):(c=e.right-a,"near"===s?h="right":"center"===s?(h="center",c-=l/2):(h="left",c-=l)):"right"===i?o?(h="right",c=e.left+r):(c=e.left+a,"near"===s?h="left":"center"===s?(h="center",c+=l/2):(h="right",c+=l)):h="right",{textAlign:h,x:c}}drawGrid(t){const e=this,i=e.options.gridLines,n=e.ctx,s=e.chart;let o=e.getContext(0);const r=i.drawBorder?Ct([i.borderWidth,i.lineWidth,0],o,0):0,a=e._gridLineItems||(e._gridLineItems=e._computeGridLineItems(t));let l,h;if(i.display)for(l=0,h=a.length;l<h;++l){const t=a[l],e=t.width,s=t.color;e&&s&&(n.save(),n.lineWidth=e,n.strokeStyle=s,n.setLineDash&&(n.setLineDash(t.borderDash),n.lineDashOffset=t.borderDashOffset),n.beginPath(),i.drawTicks&&(n.moveTo(t.tx1,t.ty1),n.lineTo(t.tx2,t.ty2)),i.drawOnChartArea&&(n.moveTo(t.x1,t.y1),n.lineTo(t.x2,t.y2)),n.stroke(),n.restore())}if(r){const t=r;o=e.getContext(e._ticksLength-1);const a=Ct([i.lineWidth,1],o,e._ticksLength-1),l=e._borderValue;let h,c,d,u;e.isHorizontal()?(h=W(s,e.left,t)-t/2,c=W(s,e.right,a)+a/2,d=u=l):(d=W(s,e.top,t)-t/2,u=W(s,e.bottom,a)+a/2,h=c=l),n.lineWidth=r,n.strokeStyle=Ct([i.borderColor,i.color],o,0),n.beginPath(),n.moveTo(h,d),n.lineTo(c,u),n.stroke()}}drawLabels(t){const e=this;if(!e.options.ticks.display)return;const i=e.ctx,n=e._labelItems||(e._labelItems=e._computeLabelItems(t));let s,o,r,a;for(s=0,r=n.length;s<r;++s){const t=n[s],e=t.font,r=e.lineWidth>0&&""!==e.strokeStyle;i.save(),i.translate(t.x,t.y),i.rotate(t.rotation),i.font=e.string,i.fillStyle=e.color,i.textAlign=t.textAlign,i.textBaseline=t.textBaseline,r&&(i.strokeStyle=e.strokeStyle,i.lineWidth=e.lineWidth);const l=t.label;let h=t.textOffset;if(E(l))for(o=0,a=l.length;o<a;++o)r&&i.strokeText(""+l[o],0,h),i.fillText(""+l[o],0,h),h+=e.lineHeight;else r&&i.strokeText(l,0,h),i.fillText(l,0,h);i.restore()}}drawTitle(t){const e=this,i=e.ctx,n=e.options,s=n.scaleLabel;if(!s.display)return;const o=Rt(s.font,e.chart.options.font),r=Lt(s.padding),a=o.lineHeight/2,l=s.align,h=n.position,c=e.options.reverse;let d,u,f,p=0;if(e.isHorizontal()){switch(l){case"start":u=e.left+(c?e.width:0),d=c?"right":"left";break;case"end":u=e.left+(c?0:e.width),d=c?"left":"right";break;default:u=e.left+e.width/2,d="center"}f="top"===h?e.top+a+r.top:e.bottom-a-r.bottom}else{const t="left"===h;switch(u=t?e.left+a+r.top:e.right-a-r.top,l){case"start":f=e.top+(c?0:e.height),d=c===t?"right":"left";break;case"end":f=e.top+(c?e.height:0),d=c===t?"left":"right";break;default:f=e.top+e.height/2,d="center"}p=t?-et:et}i.save(),i.translate(u,f),i.rotate(p),i.textAlign=d,i.textBaseline="middle",i.fillStyle=o.color,i.font=o.string,i.fillText(s.labelString,0,0),i.restore()}draw(t){const e=this;e._isVisible()&&(e.drawGrid(t),e.drawTitle(),e.drawLabels(t))}_layers(){const t=this,e=t.options,i=e.ticks&&e.ticks.z||0,n=e.gridLines&&e.gridLines.z||0;return t._isVisible()&&i!==n&&t.draw===t._draw?[{z:n,draw(e){t.drawGrid(e),t.drawTitle()}},{z:i,draw(e){t.drawLabels(e)}}]:[{z:i,draw(e){t.draw(e)}}]}getMatchingVisibleMetas(t){const e=this,i=e.chart.getSortedVisibleDatasetMetas(),n=e.axis+"AxisID",s=[];let o,r;for(o=0,r=i.length;o<r;++o){const r=i[o];r[n]!==e.id||t&&r.type!==t||s.push(r)}return s}_resolveTickFontOptions(t){const e=this,i=e.chart,n=e.options.ticks,s=e.getContext(t);return Rt(Ct([n.font],s),i.options.font)}}Ei.prototype._draw=Ei.prototype.draw;class Si{constructor(t,e){this.type=t,this.scope=e,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function(t){return"id"in t&&"defaults"in t})(e)&&(i=this.register(e));const n=this.items,s=t.id,o=this.scope,r=o?o+"."+s:s;if(!s)throw new Error("class does not have id: "+t);if(s in n)return r;if(Object.keys(At.get(r)).length)throw new Error('Can not register "'+s+'", because "defaults.'+r+'" would collide with existing defaults');return n[s]=t,function(t,e,i){const n=i?Object.assign({},At.get(i),t.defaults):t.defaults;At.set(e,n),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((i=>{const n=e[i].split("."),s=n.pop(),o=n.join(".");At.route(t,i,o,s)}))}(e,t.defaultRoutes)}(t,r,i),r}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,n=this.scope;i in e&&delete e[i],n&&i in At[n]?delete At[n][i]:i in At&&delete At[i]}}var Oi=new class{constructor(){this.controllers=new Si(Re,""),this.elements=new Si(gi,"elements"),this.plugins=new Si(Object,"plugins"),this.scales=new Si(Ei,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){const n=this;[...e].forEach((e=>{const s=i||n._getRegistryForType(e);i||s.isForType(e)||s===n.plugins&&e.id?n._exec(t,s,e):P(e,(e=>{const s=i||n._getRegistryForType(e);n._exec(t,s,e)}))}))}_exec(t,e,i){const n=z(t);D(i["before"+n],[],i),e[t](i),D(i["after"+n],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const n=e.get(t);if(void 0===n)throw new Error('"'+t+'" is not a registered '+i+".");return n}};class Ti{notify(t,e,i){const n=this._descriptors(t);for(let s=0;s<n.length;++s){const o=n[s],r=o.plugin,a=r[e];if("function"==typeof a){const e=[t].concat(i||[]);if(e.push(o.options),!1===a.apply(r,e))return!1}}return!0}invalidate(){this._cache=void 0}_descriptors(t){if(this._cache)return this._cache;const e=t&&t.config||{},i=e.options&&e.options.plugins||{},n=function(t,e){const i=[];for(let n=0;n<t.length;n++){const s=t[n],o=s.id;let r=e[o];!1!==r&&(!0===r&&(r={}),i.push({plugin:s,options:R({},[r,At.plugins[o]])}))}return i}(function(t){const e=[],i=Object.keys(Oi.plugins.items);for(let t=0;t<i.length;t++)e.push(Oi.getPlugin(i[t]));const n=t.plugins||[];for(let t=0;t<n.length;t++){const i=n[t];-1===e.indexOf(i)&&e.push(i)}return e}(e),i);return this._cache=n,n}}function Di(t,e){const i=(At[t]||{}).datasets||{};return((e[t]||{}).datasets||{}).indexAxis||e.indexAxis||i.indexAxis||"x"}function Pi(t,e){e=e||{};const i=At[t.type]||{scales:{}},n=e.scales||{},s=Di(t.type,e),o={},r={};return Object.keys(n).forEach((t=>{const e=n[t],a=Li(t,e),l=function(t,e){return t===e?"_index_":"_value_"}(a,s);o[a]=o[a]||t,r[t]=R({axis:a},[e,i.scales[a],i.scales[l]])})),e.scale&&(r[e.scale.id||"r"]=R({axis:"r"},[e.scale,i.scales.r]),o.r=o.r||e.scale.id||"r"),t.data.datasets.forEach((i=>{const s=i.type||t.type,a=i.indexAxis||Di(s,e),l=(At[s]||{}).scales||{};Object.keys(l).forEach((t=>{const e=function(t,e){let i=t;return"_index_"===t?i=e:"_value_"===t&&(i="x"===e?"y":"x"),i}(t,a),s=i[e+"AxisID"]||o[e]||e;r[s]=r[s]||{},R(r[s],[{axis:e},n[s],l[t]])}))})),Object.keys(r).forEach((t=>{const e=r[t];R(e,[At.scales[e.type],At.scale])})),r}function Ai(...t){return L({},t,{merger(t,e,i,n){"scales"!==t&&"scale"!==t&&N(t,e,i,n)}})}const Ii=["top","bottom","left","right","chartArea"];function Ni(t,e){return"top"===t||"bottom"===t||-1===Ii.indexOf(t)&&"x"===e}function Li(t,e){return"x"===t||"y"===t||"r"===t?t:e.axis||("top"===(i=e.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||t.charAt(0).toLowerCase();var i}function Ri(t,e){return function(i,n){return i[t]===n[t]?i[e]-n[e]:i[t]-n[t]}}function Ci(t){const e=t.chart,i=e.options.animation;e._plugins.notify(e,"afterRender"),D(i&&i.onComplete,[t],e)}function Fi(t){const e=t.chart,i=e.options.animation;D(i&&i.onProgress,[t],e)}function zi(){return"undefined"!=typeof window&&"undefined"!=typeof document}function ji(t){return zi()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}class Wi{constructor(t,e){const i=this;e=function(t){const e=(t=t||{}).data=t.data||{datasets:[],labels:[]};e.datasets=e.datasets||[],e.labels=e.labels||[];const i=Pi(t,t.options),n=t.options=Ai(At,At[t.type],t.options||{});return n.scales=i,n.title=!1!==n.title&&L({},[At.plugins.title,n.title]),n.tooltips=!1!==n.tooltips&&L({},[At.plugins.tooltip,n.tooltips]),t}(e);const n=ji(t),s=Wi.getChart(n);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas can be reused.");this.platform=i._initializePlatform(n,e);const o=i.platform.acquireContext(n,e),r=o&&o.canvas,a=r&&r.height,l=r&&r.width;this.id=M(),this.ctx=o,this.canvas=r,this.config=e,this.width=l,this.height=a,this.aspectRatio=a?l/a:null,this.options=e.options,this._bufferedRender=!1,this._layers=[],this._metasets=[],this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this.data=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._sortedMetasets=[],this._updating=!1,this.scales={},this.scale=void 0,this._plugins=new Ti,this.$proxies={},this._hiddenIndices={},this.attached=!1,Wi.instances[i.id]=i,Object.defineProperty(i,"data",{get:()=>i.config.data,set(t){i.config.data=t}}),o&&r?(ve.listen(i,"complete",Ci),ve.listen(i,"progress",Fi),i._initialize(),i.attached&&i.update()):console.error("Failed to create chart: can't acquire context from the given item")}_initialize(){const t=this;return t._plugins.notify(t,"beforeInit"),t.options.responsive?t.resize(!0):kt(t,t.options.devicePixelRatio),t.bindEvents(),t._plugins.notify(t,"afterInit"),t}_initializePlatform(t,e){return e.platform?new e.platform:!zi()||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?new ei:new pi}clear(){return H(this),this}stop(){return ve.stop(this),this}resize(t,e,i){const n=this,s=n.options,o=n.canvas,r=s.maintainAspectRatio&&n.aspectRatio,a=n.platform.getMaximumSize(o,e,i,r),l=n.currentDevicePixelRatio,h=s.devicePixelRatio||n.platform.getDevicePixelRatio();n.width===a.width&&n.height===a.height&&l===h||(o.width=n.width=a.width,o.height=n.height=a.height,o.style&&(o.style.width=a.width+"px",o.style.height=a.height+"px"),kt(n,h),t||(n._plugins.notify(n,"resize",[a]),D(s.onResize,[a],n),n.attached&&n.update("resize")))}ensureScalesHaveIDs(){const t=this.options,e=t.scales||{},i=t.scale;P(e,((t,e)=>{t.id=e})),i&&(i.id=i.id||"scale")}buildOrUpdateScales(){const t=this,e=t.options,i=e.scales,n=t.scales||{},s=Object.keys(n).reduce(((t,e)=>(t[e]=!1,t)),{});let o=[];i&&(o=o.concat(Object.keys(i).map((t=>{const e=i[t],n=Li(t,e),s="r"===n,o="x"===n;return{options:e,dposition:s?"chartArea":o?"bottom":"left",dtype:s?"radialLinear":o?"category":"linear"}})))),P(o,(i=>{const o=i.options,r=o.id,a=Li(r,o),l=T(o.type,i.dtype);void 0!==o.position&&Ni(o.position,a)===Ni(i.dposition)||(o.position=i.dposition),s[r]=!0;let h=null;if(r in n&&n[r].type===l)h=n[r];else{h=new(Oi.getScale(l))({id:r,type:l,ctx:t.ctx,chart:t}),n[h.id]=h}h.init(o,e),i.isDefault&&(t.scale=h)})),P(s,((t,e)=>{t||delete n[e]})),t.scales=n,P(n,(e=>{e.fullWidth=e.options.fullWidth,e.position=e.options.position,e.weight=e.options.weight,Qe.addBox(t,e)}))}_updateMetasetIndex(t,e){const i=this._metasets,n=t.index;n!==e&&(i[n]=i[e],i[e]=t,t.index=e)}_updateMetasets(){const t=this,e=t._metasets,i=t.data.datasets.length,n=e.length;if(n>i){for(let e=i;e<n;++e)t._destroyDatasetMeta(e);e.splice(i,n-i)}t._sortedMetasets=e.slice(0).sort(Ri("order","index"))}buildOrUpdateControllers(){const t=this,e=[],i=t.data.datasets;let n,s;for(n=0,s=i.length;n<s;n++){const s=i[n];let o=t.getDatasetMeta(n);const r=s.type||t.config.type;if(o.type&&o.type!==r&&(t._destroyDatasetMeta(n),o=t.getDatasetMeta(n)),o.type=r,o.indexAxis=s.indexAxis||Di(r,t.options),o.order=s.order||0,t._updateMetasetIndex(o,n),o.label=""+s.label,o.visible=t.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const i=At[r],s=Oi.getController(r);Object.assign(s.prototype,{dataElementType:Oi.getElement(i.dataElementType),datasetElementType:i.datasetElementType&&Oi.getElement(i.datasetElementType),dataElementOptions:i.dataElementOptions,datasetElementOptions:i.datasetElementOptions}),o.controller=new s(t,n),e.push(o.controller)}}return t._updateMetasets(),e}_resetElements(){const t=this;P(t.data.datasets,((e,i)=>{t.getDatasetMeta(i).controller.reset()}),t)}reset(){this._resetElements(),this._plugins.notify(this,"reset")}update(t){const e=this;let i,n;if(e._updating=!0,function(t){let e=t.options;P(t.scales,(e=>{Qe.removeBox(t,e)}));const i=Pi(t.config,e);e=Ai(At,At[t.config.type],e),t.options=t.config.options=e,t.options.scales=i,t._animationsDisabled=!e.animation}(e),e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e._plugins.invalidate(),!1===e._plugins.notify(e,"beforeUpdate"))return;const s=e.buildOrUpdateControllers();for(i=0,n=e.data.datasets.length;i<n;i++)e.getDatasetMeta(i).controller.buildOrUpdateElements();e._updateLayout(),P(s,(t=>{t.reset()})),e._updateDatasets(t),e._plugins.notify(e,"afterUpdate"),e._layers.sort(Ri("z","_idx")),e._lastEvent&&e._eventHandler(e._lastEvent,!0),e.render(),e._updating=!1}_updateLayout(){const t=this;!1!==t._plugins.notify(t,"beforeLayout")&&(Qe.update(t,t.width,t.height),t._layers=[],P(t.boxes,(e=>{e.configure&&e.configure(),t._layers.push(...e._layers())}),t),t._layers.forEach(((t,e)=>{t._idx=e})),t._plugins.notify(t,"afterLayout"))}_updateDatasets(t){const e=this,i="function"==typeof t;if(!1!==e._plugins.notify(e,"beforeDatasetsUpdate")){for(let n=0,s=e.data.datasets.length;n<s;++n)e._updateDataset(n,i?t({datasetIndex:n}):t);e._plugins.notify(e,"afterDatasetsUpdate")}}_updateDataset(t,e){const i=this,n=i.getDatasetMeta(t),s={meta:n,index:t,mode:e};!1!==i._plugins.notify(i,"beforeDatasetUpdate",[s])&&(n.controller._update(e),i._plugins.notify(i,"afterDatasetUpdate",[s]))}render(){const t=this;!1!==t._plugins.notify(t,"beforeRender")&&(ve.has(t)?t.attached&&!ve.running(t)&&ve.start(t):(t.draw(),Ci({chart:t})))}draw(){const t=this;let e;if(t.clear(),t.width<=0||t.height<=0)return;if(!1===t._plugins.notify(t,"beforeDraw"))return;const i=t._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(t.chartArea);for(t._drawDatasets();e<i.length;++e)i[e].draw(t.chartArea);t._plugins.notify(t,"afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let n,s;for(n=0,s=e.length;n<s;++n){const s=e[n];t&&!s.visible||i.push(s)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){const t=this;if(!1===t._plugins.notify(t,"beforeDatasetsDraw"))return;const e=t.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)t._drawDataset(e[i]);t._plugins.notify(t,"afterDatasetsDraw")}_drawDataset(t){const e=this,i=e.ctx,n=t._clip,s=e.chartArea,o={meta:t,index:t.index};!1!==e._plugins.notify(e,"beforeDatasetDraw",[o])&&(!function(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}(i,{left:!1===n.left?0:s.left-n.left,right:!1===n.right?e.width:s.right+n.right,top:!1===n.top?0:s.top-n.top,bottom:!1===n.bottom?e.height:s.bottom+n.bottom}),t.controller.draw(),function(t){t.restore()}(i),e._plugins.notify(e,"afterDatasetDraw",[o]))}getElementAtEvent(t){return Ye.modes.nearest(this,t,{intersect:!0})}getElementsAtEvent(t){return Ye.modes.index(this,t,{intersect:!0})}getElementsAtXAxis(t){return Ye.modes.index(this,t,{intersect:!1})}getElementsAtEventForMode(t,e,i,n){const s=Ye.modes[e];return"function"==typeof s?s(this,t,i,n):[]}getDatasetAtEvent(t){return Ye.modes.dataset(this,t,{intersect:!0})}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let n=i.filter((t=>t._dataset===e)).pop();return n||(n=i[t]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1}),n}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateDatasetVisibility(t,e){const i=this,n=e?"show":"hide",s=i.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,n);i.setDatasetVisibility(t,e),o.update(s,{visible:e}),i.update((e=>e.datasetIndex===t?n:void 0))}hide(t){this._updateDatasetVisibility(t,!1)}show(t){this._updateDatasetVisibility(t,!0)}_destroyDatasetMeta(t){const e=this,i=e._metasets&&e._metasets[t];i&&(i.controller._destroy(),delete e._metasets[t])}destroy(){const t=this,e=t.canvas;let i,n;for(t.stop(),ve.remove(t),i=0,n=t.data.datasets.length;i<n;++i)t._destroyDatasetMeta(i);e&&(t.unbindEvents(),H(t),t.platform.releaseContext(t.ctx),t.canvas=null,t.ctx=null),t._plugins.notify(t,"destroy"),delete Wi.instances[t.id]}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){const t=this,e=t._listeners,i=t.platform,n=(n,s)=>{i.addEventListener(t,n,s),e[n]=s},s=(n,s)=>{e[n]&&(i.removeEventListener(t,n,s),delete e[n])};let o=function(e,i,n){e.offsetX=i,e.offsetY=n,t._eventHandler(e)};if(P(t.options.events,(t=>n(t,o))),t.options.responsive){let e;o=(e,i)=>{t.canvas&&t.resize(!1,e,i)};const r=()=>{s("attach",r),t.attached=!0,t.resize(),n("resize",o),n("detach",e)};e=()=>{t.attached=!1,s("resize",o),n("attach",r)},i.isAttached(t.canvas)?r():e()}else t.attached=!0}unbindEvents(){const t=this,e=t._listeners;e&&(delete t._listeners,P(e,((e,i)=>{t.platform.removeEventListener(t,i,e)})))}updateHoverStyle(t,e,i){const n=i?"set":"remove";let s,o,r,a;for("dataset"===e&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+n+"DatasetHoverStyle"]()),r=0,a=t.length;r<a;++r)o=t[r],o&&this.getDatasetMeta(o.datasetIndex).controller[n+"HoverStyle"](o.element,o.datasetIndex,o.index)}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this,i=e._active||[],n=t.map((({datasetIndex:t,index:i})=>{const n=e.getDatasetMeta(t);if(!n)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:n.data[i],index:i}}));!A(n,i)&&(e._active=n,e._updateHoverStyles(n,i))}_updateHoverStyles(t,e){const i=this,n=(i.options||{}).hover;e.length&&i.updateHoverStyle(e,n.mode,!1),t.length&&n.mode&&i.updateHoverStyle(t,n.mode,!0)}_eventHandler(t,e){const i=this;if(!1!==i._plugins.notify(i,"beforeEvent",[t,e]))return i._handleEvent(t,e),i._plugins.notify(i,"afterEvent",[t,e]),i.render(),i}_handleEvent(t,e){const i=this,n=i._active||[],s=i.options,o=s.hover,r=e;let a=[],l=!1;return"mouseout"===t.type?i._lastEvent=null:(a=i.getElementsAtEventForMode(t,o.mode,o,r),i._lastEvent="click"===t.type?i._lastEvent:t),D(s.onHover||s.hover.onHover,[t,a,i],i),"mouseup"!==t.type&&"click"!==t.type&&"contextmenu"!==t.type||V(t,i.chartArea)&&D(s.onClick,[t,a,i],i),l=!A(a,n),(l||e)&&(i._active=a,i._updateHoverStyles(a,n)),l}}Wi.defaults=At,Wi.instances={},Wi.registry=Oi,Wi.version="v3.0.0-beta.4",Wi.getChart=t=>{const e=ji(t);return Object.values(Wi.instances).filter((t=>t.canvas===e)).pop()};const Hi=()=>P(Wi.instances,(t=>t._plugins.invalidate()));function Vi(t,e,i){t.lineTo(i.x,i.y)}function Yi(t,e,i){i=i||{};const n=t.length,s=Math.max(i.start||0,e.start),o=Math.min(i.end||n-1,e.end);return{count:n,start:s,loop:e.loop,ilen:o<s?n+o-s:o-s}}function Bi(t,e,i,n){const{points:s,options:o}=e,{count:r,start:a,loop:l,ilen:h}=Yi(s,i,n),c=function(t){return t.stepped?Y:t.tension?B:Vi}(o);let d,u,f,{move:p=!0,reverse:g}=n||{};for(d=0;d<=h;++d)u=s[(a+(g?h-d:d))%r],u.skip||(p?(t.moveTo(u.x,u.y),p=!1):c(t,f,u,g,o.stepped),f=u);return l&&(u=s[(a+(g?h:0))%r],c(t,f,u,g,o.stepped)),!!l}function $i(t,e,i,n){const s=e.points,{count:o,start:r,ilen:a}=Yi(s,i,n),{move:l=!0,reverse:h}=n||{};let c,d,u,f,p,g,m=0,b=0;const x=t=>(r+(h?a-t:t))%o,_=()=>{f!==p&&(t.lineTo(m,p),t.lineTo(m,f),t.lineTo(m,g))};for(l&&(d=s[x(0)],t.moveTo(d.x,d.y)),c=0;c<=a;++c){if(d=s[x(c)],d.skip)continue;const e=d.x,i=d.y,n=0|e;n===u?(i<f?f=i:i>p&&(p=i),m=(b*m+e)/++b):(_(),t.lineTo(e,i),u=n,b=0,f=p=i),g=i}_()}function Xi(t){const e=t.options,i=e.borderDash&&e.borderDash.length;return!(t._loop||e.tension||e.stepped||i)?$i:Bi}Wi.register=(...t)=>{Oi.add(...t),Hi()},Wi.unregister=(...t)=>{Oi.remove(...t),Hi()};class qi extends gi{constructor(t){super(),this.options=void 0,this._loop=void 0,this._fullLoop=void 0,this._points=void 0,this._segments=void 0,this._pointsUpdated=!1,t&&Object.assign(this,t)}updateControlPoints(t){const e=this,i=e.options;if(i.tension&&!i.stepped&&!e._pointsUpdated){const n=i.spanGaps?e._loop:e._fullLoop;mt(e._points,i,t,n),e._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t){const e=t.points,i=t.options.spanGaps,n=e.length;if(!n)return[];const s=!!t._loop,{start:o,end:r}=function(t,e,i,n){let s=0,o=e-1;if(i&&!n)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,i&&(o+=s);o>s&&t[o%e].skip;)o--;return o%=e,{start:s,end:o}}(e,n,s,i);return!0===i?[{start:o,end:r,loop:s}]:function(t,e,i,n){const s=t.length,o=[];let r,a=e,l=t[e];for(r=e+1;r<=i;++r){const i=t[r%s];i.skip||i.stop?l.skip||(n=!1,o.push({start:e%s,end:(r-1)%s,loop:n}),e=a=i.stop?r:null):(a=r,l.skip&&(e=r)),l=i}return null!==a&&o.push({start:e%s,end:a%s,loop:n}),o}(e,o,r<o?r+n:r,!!t._fullLoop&&0===o&&r===n-1)}(this))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this,n=i.options,s=t[e],o=i.points,r=function(t,e){const i=[],n=t.segments;for(let s=0;s<n.length;s++){const o=jt(n[s],t.points,e);o.length&&i.push(...o)}return i}(i,{property:e,start:s,end:s});if(!r.length)return;const a=[],l=function(t){return t.stepped?Tt:t.tension?Dt:Ot}(n);let h,c;for(h=0,c=r.length;h<c;++h){const{start:i,end:c}=r[h],d=o[i],u=o[c];if(d===u){a.push(d);continue}const f=l(d,u,Math.abs((s-d[e])/(u[e]-d[e])),n.stepped);f[e]=t[e],a.push(f)}return 1===a.length?a[0]:a}pathSegment(t,e,i){return Xi(this)(t,this,e,i)}path(t,e,i){const n=this,s=n.segments,o=s.length,r=Xi(n);let a=n._loop;e=e||0,i=i||n.points.length-e;for(let l=0;l<o;++l)a&=r(t,n,s[l],{start:e,end:e+i-1});return!!a}draw(t,e,i,n){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),function(t,e){t.lineCap=e.borderCapStyle,t.setLineDash(e.borderDash),t.lineDashOffset=e.borderDashOffset,t.lineJoin=e.borderJoinStyle,t.lineWidth=e.borderWidth,t.strokeStyle=e.borderColor}(t,s),t.beginPath(),this.path(t,i,n)&&t.closePath(),t.stroke(),t.restore(),this._pointsUpdated=!1)}}qi.id="line",qi.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,fill:!0,tension:0},qi.defaultRoutes={backgroundColor:"color",borderColor:"color"};class Ui extends gi{constructor(t){super(),this.options=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const n=this.options,{x:s,y:o}=this.getProps(["x","y"],i);return Math.pow(t-s,2)+Math.pow(e-o,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(t,e){const i=this.options,{x:n}=this.getProps(["x"],e);return Math.abs(t-n)<i.radius+i.hitRadius}inYRange(t,e){const i=this.options,{y:n}=this.getProps(["x"],e);return Math.abs(t-n)<i.radius+i.hitRadius}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(){const t=this.options||{},e=Math.max(t.radius,t.hoverRadius)||0;return 2*(e+(e&&t.borderWidth||0))}draw(t,e){const i=this,n=i.options;i.skip||n.radius<=0||(void 0===e||V(i,e))&&(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,function(t,e,i,n){let s,o,r,a,l;const h=e.pointStyle,c=e.rotation,d=e.radius;let u=(c||0)*tt;if(h&&"object"==typeof h&&(s=h.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return t.save(),t.translate(i,n),t.rotate(u),t.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),void t.restore();if(!(isNaN(d)||d<=0)){switch(t.beginPath(),h){default:t.arc(i,n,d,0,Z),t.closePath();break;case"triangle":t.moveTo(i+Math.sin(u)*d,n-Math.cos(u)*d),u+=nt,t.lineTo(i+Math.sin(u)*d,n-Math.cos(u)*d),u+=nt,t.lineTo(i+Math.sin(u)*d,n-Math.cos(u)*d),t.closePath();break;case"rectRounded":l=.516*d,a=d-l,o=Math.cos(u+it)*a,r=Math.sin(u+it)*a,t.arc(i-o,n-r,l,u-G,u-et),t.arc(i+r,n-o,l,u-et,u),t.arc(i+o,n+r,l,u,u+et),t.arc(i-r,n+o,l,u+et,u+G),t.closePath();break;case"rect":if(!c){a=Math.SQRT1_2*d,t.rect(i-a,n-a,2*a,2*a);break}u+=it;case"rectRot":o=Math.cos(u)*d,r=Math.sin(u)*d,t.moveTo(i-o,n-r),t.lineTo(i+r,n-o),t.lineTo(i+o,n+r),t.lineTo(i-r,n+o),t.closePath();break;case"crossRot":u+=it;case"cross":o=Math.cos(u)*d,r=Math.sin(u)*d,t.moveTo(i-o,n-r),t.lineTo(i+o,n+r),t.moveTo(i+r,n-o),t.lineTo(i-r,n+o);break;case"star":o=Math.cos(u)*d,r=Math.sin(u)*d,t.moveTo(i-o,n-r),t.lineTo(i+o,n+r),t.moveTo(i+r,n-o),t.lineTo(i-r,n+o),u+=it,o=Math.cos(u)*d,r=Math.sin(u)*d,t.moveTo(i-o,n-r),t.lineTo(i+o,n+r),t.moveTo(i+r,n-o),t.lineTo(i-r,n+o);break;case"line":o=Math.cos(u)*d,r=Math.sin(u)*d,t.moveTo(i-o,n-r),t.lineTo(i+o,n+r);break;case"dash":t.moveTo(i,n),t.lineTo(i+Math.cos(u)*d,n+Math.sin(u)*d)}t.fill(),e.borderWidth>0&&t.stroke()}}(t,n,i.x,i.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function Ki(t){const e=Math.floor(st(t)),i=t/Math.pow(10,e);let n;return n=i<=1?1:i<=2?2:i<=5?5:10,n*Math.pow(10,e)}function Gi(t,e){const i=[],{stepSize:n,min:s,max:o,precision:r}=t,a=n||1,l=t.maxTicks-1,{min:h,max:c}=e;let d,u,f,p,g=Ki((c-h)/l/a)*a;if(g<1e-14&&k(s)&&k(o))return[{value:h},{value:c}];p=Math.ceil(c/g)-Math.floor(h/g),p>l&&(g=Ki(p*g/l/a)*a),n||k(r)?d=Math.pow(10,function(t){if(!O(t))return;let e=1,i=0;for(;Math.round(t*e)/e!==t;)e*=10,i++;return i}(g)):(d=Math.pow(10,r),g=Math.ceil(g*d)/d),u=Math.floor(h/g)*g,f=Math.ceil(c/g)*g,!n||k(s)||k(o)||function(t,e){const i=Math.round(t);return i-e<=t&&i+e>=t}((o-s)/n,g/1e3)&&(u=s,f=o),p=(f-u)/g,p=rt(p,Math.round(p),g/1e3)?Math.round(p):Math.ceil(p),u=Math.round(u*d)/d,f=Math.round(f*d)/d,i.push({value:k(s)?u:s});for(let t=1;t<p;++t)i.push({value:Math.round((u+t*g)*d)/d});return i.push({value:k(o)?f:o}),i}Ui.id="point",Ui.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3},Ui.defaultRoutes={backgroundColor:"color",borderColor:"color"};class Zi extends Ei{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return k(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?NaN:+t}handleTickRangeOptions(){const t=this,e=t.options;if(e.beginAtZero){const e=at(t.min),i=at(t.max);e<0&&i<0?t.max=0:e>0&&i>0&&(t.min=0)}const i=void 0!==e.min||void 0!==e.suggestedMin,n=void 0!==e.max||void 0!==e.suggestedMax;void 0!==e.min?t.min=e.min:void 0!==e.suggestedMin&&(null===t.min?t.min=e.suggestedMin:t.min=Math.min(t.min,e.suggestedMin)),void 0!==e.max?t.max=e.max:void 0!==e.suggestedMax&&(null===t.max?t.max=e.suggestedMax:t.max=Math.max(t.max,e.suggestedMax)),i!==n&&t.min>=t.max&&(i?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,e.beginAtZero||t.min--)}getTickLimit(){const t=this,e=t.options.ticks;let i,{maxTicksLimit:n,stepSize:s}=e;return s?i=Math.ceil(t.max/s)-Math.floor(t.min/s)+1:(i=t.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this,e=t.options,i=e.ticks;let n=t.getTickLimit();n=Math.max(2,n);const s=Gi({maxTicks:n,min:e.min,max:e.max,precision:i.precision,stepSize:T(i.fixedStepSize,i.stepSize)},t);return function(t,e,i){let n,s,o;for(n=0,s=t.length;n<s;n++)o=t[n][i],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}(s,t,"value"),e.reverse?(s.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),s}configure(){const t=this,e=t.ticks;let i=t.min,n=t.max;if(super.configure(),t.options.offset&&e.length){const t=(n-i)/Math.max(e.length-1,1)/2;i-=t,n+=t}t._startValue=i,t._endValue=n,t._valueRange=n-i}getLabelForValue(t){return new Intl.NumberFormat(this.options.locale).format(t)}}class Ji extends Zi{determineDataLimits(){const t=this,e=t.options,{min:i,max:n}=t.getMinMax(!0);t.min=O(i)?i:T(e.suggestedMin,0),t.max=O(n)?n:T(e.suggestedMax,1),e.stacked&&i>0&&(t.min=0),t.handleTickRangeOptions()}computeTickLimit(){const t=this;if(t.isHorizontal())return Math.ceil(t.width/40);const e=t._resolveTickFontOptions(0);return Math.ceil(t.height/e.lineHeight)}getPixelForValue(t){const e=this;return e.getPixelForDecimal((t-e._startValue)/e._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Ji.id="linear",Ji.defaults={ticks:{callback:xi.formatters.numeric}},Wi.register(Ce,qi,Ji,Ui);let Qi,tn={type:"linear",gridLines:{color:"#014c1a"},ticks:{font:{color:"#c9b405"}}},en={type:"line",data:{datasets:[{fill:!1,pointBorderColor:"#f9df08",showLine:!1},{borderColor:"#039c35",fill:!1,lineTension:.4,pointRadius:0,pointHoverRadius:0}]},options:{animation:!1,legend:{display:!1},scales:{x:{position:"bottom",...tn},y:{position:"left",...tn}},tooltips:{enabled:!1}}};function nn({userData:t,potentialData:e}){Qi?(Qi.data.datasets[0].data=t,Qi.data.datasets[1].data=e,Qi.update()):function({userData:t=[],potentialData:e=[]}){let i=JSON.parse(JSON.stringify(en));i.data.datasets[0].data=t,i.data.datasets[1].data=e,Qi=new Wi(_("#graph").getContext("2d"),i)}({userData:t,potentialData:e})}function sn(t){return new Promise(((e,i)=>{let n=new FileReader;n.addEventListener("load",(()=>e(n.result))),n.addEventListener("error",(()=>i(n.error))),n.readAsText(t)}))}function on(t){let e=function(t){let e=(t=t.trim()).includes(";")?";":",";return","!==e&&(t=t.replace(/,/g,".")),t.split(/(?:\r?\n)+/).map((t=>{let[i,n]=t.split(e).map(Number);return{x:i,y:n}}))}(_("#data").value),i=_("#potential").value;t||(t=function(t,e){let i=function(t){return t.map((({x:t,y:e})=>({r:t,e:e})))}(t),n=b[e].from(i);return n._rSqr=n.rSqr(i),n}(e,i));let n=e.map((({x:t})=>t)),s=function(t,e,i){return[...t.points({start:e,end:i})].map((({r:t,e:e})=>({x:t,y:e})))}(t,Math.min(...n),Math.max(...n));rn(t),nn({userData:e,potentialData:s})}function rn(t){let e=t?Object.assign({rSqr:t._rSqr},t.toJSON()):{},i=e.type?`[data-potential="${e.type}"]`:"[data-potential]";[..._("#ctrl-form").querySelectorAll(`.result${i} input[name]`)].forEach((t=>t.value=e[t.name]||""))}function an(t,e,i){("string"==typeof t?_(t):t).addEventListener(e,i,!1)}function ln({target:t}){let e=t.files[0];e&&(sn(e).then((t=>_("#data").value=t)).catch((t=>console.error(t))),rn(null))}function hn(){let t=_("#file-kul").files[0],e=_("#file-sum1").files[0],i=_("#file-sum2").files[0];t&&e&&i&&(Promise.all([sn(t),sn(e),sn(i)]).then((([t,e,i])=>_("#data").value=function(t,e,i){const n="Winbond files contain mismatched or corrupted data";let s=t.trim().split(/\r?\n/),o=e.trim().split(/\r?\n/),r=i.trim().split(/\r?\n/);if(s.length!==o.length||s.length!==r.length)throw new Error(n);let a=/\s+/;return s.map(((t,e)=>{let i=t.trim().split(a),s=Number(i[0]),l=Number(i[1]);if(i=o[e].trim().split(a),Number(i[0])!==s)throw new Error(n);if(l+=Number(i[i.length-1]),i=r[e].trim().split(a),Number(i[0])!==s)throw new Error(n);return l+=Number(i[i.length-1]),`${s},${l.toFixed(8)}`})).join("\n")}(t,e,i))).catch((t=>console.error(t))),rn(null))}function cn({target:t}){let e=t.value.trim();if(e.includes("\t")){let i=e.includes(",")?";":",";t.value=e.replace(/\t/g,i)}}function dn(){rn(null)}function un({target:t}){let e=t.value;[..._("#ctrl-form").querySelectorAll("[data-potential]")].forEach((t=>t.classList.toggle("hidden",t.getAttribute("data-potential")!==e))),rn(null)}function fn(t){t.preventDefault(),on(),_("#result-group").classList.remove("user-modified")}function pn(){let t=_("#result-group");t.classList.add("user-modified");let e=_("#potential").value,i=[...t.querySelectorAll(`.result[data-potential="${e}"] input[name]:not([readonly])`)];if(i.some((({value:t})=>!t.trim())))return;let n=Object.fromEntries(i.map((({name:t,value:e})=>[t,Number(e)])));on(new b[e](n))}an("#file-csv","change",ln),an(_("#file-tab-ctrl").querySelector(".tab-sheet[data-format='winbond']"),"change",hn),an("#data","input",cn),an("#data","change",dn),an("#potential","change",un),an("#ctrl-form","submit",fn),an("#result-group","change",pn),on(),"serviceWorker"in navigator&&navigator.serviceWorker.register("/potprox/sw.js");
